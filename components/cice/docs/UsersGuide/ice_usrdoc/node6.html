<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">

<!--Converted with LaTeX2HTML 2002-2-1 (1.71)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>The Build Environment</TITLE>
<META NAME="description" CONTENT="The Build Environment">
<META NAME="keywords" CONTENT="ice_usrdoc">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
<META NAME="Generator" CONTENT="LaTeX2HTML v2002-2-1">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="ice_usrdoc.css">

<LINK REL="previous" HREF="node5.html">
<LINK REL="up" HREF="node4.html">
<LINK REL="next" HREF="node7.html">
</HEAD>

<BODY BGCOLOR=white LINK=BLUE VLINK=PURPLE>

<A NAME="tex2html156"
  HREF="node7.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html152"
  HREF="node4.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html148"
  HREF="node5.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A> 
<A NAME="tex2html154"
  HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A>  <BR>
<B> Next:</B> <A NAME="tex2html157"
  HREF="node7.html">CICE Preprocessor Flags</A>
<B>Up:</B> <A NAME="tex2html153"
  HREF="node4.html">The CICE Scripts</A>
<B> Previous:</B> <A NAME="tex2html149"
  HREF="node5.html">Coupled Model Scripts</A>
<BR> <P>

<!--End of Navigation Panel-->

<H2><A NAME="SECTION00032000000000000000">
The Build Environment</A>
</H2>

<P>
The build and configure environment has changed significantly from previous
versions of CESM. The build namelist and configure utilities are based on
the CAM scripts (). 

<P>
The <B>configure</B> utility includes setting compile
time parameters such as the horizontal grid, the sea ice mode (prognostic or
prescribed), tracers, etc. Additional options 
can be set using the <B>configure</B> utility such as the decomposition,
and the number of tasks, but these are typically set via CESM enviroment
variables. However, the CAM scripts set some of these explicitly through
the configure command line. For example one such configure line in the
CESM scripts is:

<P>
<PRE>
#--------------------------------------------------------------------
# Invoke cice configure
#--------------------------------------------------------------------


set hgrid = "-hgrid $ICE_GRID"
if ($ICE_GRID =~ *T*) set hgrid = "-hgrid ${ICE_NX}x${ICE_NY}"

set mode = "-cice_mode $CICE_MODE"

cd $CASEBUILD/ciceconf || exit -1
$CODEROOT/ice/cice/bld/configure $hgrid $mode -nodecomp $CICE_CONFIG_OPTS || exit -1
</PRE>

<P>
This example sets the horizontal grid and the mode (prognostic or prescribed).  The <B>build namelist</B> utility sets up the namelist which controls the
run time options for the CICE model. This utility sets namelist flags based
on compile time settings from <B>configure</B> and some standard defaults
based on horizontal grids and other options. The typical execution during
the CESM configure is:

<P>
<PRE>
  $CODEROOT/ice/cice/bld/build-namelist -config config_cache.xml \
         -csmdata \$DIN_LOC_ROOT -infile ccsm_namelist \
         -inputdata $CASEBUILD/cice.input_data_list \
         -namelist "&amp;cice $CICE_NAMELIST_OPTS /" || exit -1
</PRE>

<P>
Again, the typical usage of the <B>build namelist</B> tool is through
the CESM scripts, but can be called via the command line interface.

<P>
<BR> <HR>
<!--Table of Child-Links-->
<A NAME="CHILD_LINKS"><STRONG>Subsections</STRONG></A>

<UL>
<LI><A NAME="tex2html158"
  HREF="node7.html">CICE Preprocessor Flags</A>
</UL>
<!--End of Table of Child-Links-->
<HR>
<A NAME="tex2html156"
  HREF="node7.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html152"
  HREF="node4.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html148"
  HREF="node5.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A> 
<A NAME="tex2html154"
  HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A>  <BR>
<B> Next:</B> <A NAME="tex2html157"
  HREF="node7.html">CICE Preprocessor Flags</A>
<B>Up:</B> <A NAME="tex2html153"
  HREF="node4.html">The CICE Scripts</A>
<B> Previous:</B> <A NAME="tex2html149"
  HREF="node5.html">Coupled Model Scripts</A>

<!--End of Navigation Panel-->
<ADDRESS>
<I>David Bailey <BR>
2011-08-16</I>
</ADDRESS>
</BODY>
</HTML>

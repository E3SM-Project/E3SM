   function ocn_setup_namelists(configPool, namelistFilename, dminfo) result(iErr)
      use mpas_derived_types
      use mpas_pool_routines
      use mpas_io_units
      use mpas_abort, only : mpas_dmpar_global_abort
      use mpas_log, only : mpas_log_write
      implicit none
      type (mpas_pool_type), intent(inout) :: configPool
      character (len=*), intent(in) :: namelistFilename
      type (dm_info), intent(in) :: dminfo
      integer :: iErr

      integer :: unitNumber
      logical :: nmlExists

      iErr = 0
      unitNumber = 21
      call mpas_log_write('Reading namelist from file '//trim(namelistFilename))
      inquire(file=trim(namelistFilename), exist=nmlExists)
      if ( .not. nmlExists ) then
         call mpas_dmpar_global_abort('ERROR: Namelist file '//trim(namelistFilename)//' does not exist.')
      end if
      open(unitNumber,file=trim(namelistFilename),status='old',form='formatted')

      call ocn_setup_nmlrec_run_modes(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_time_management(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_io(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_decomposition(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_time_integration(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_hmix(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_hmix_del2(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_hmix_del4(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_hmix_Leith(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_Redi_isopycnal_mixing(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_submesoscale_eddy_parameterization(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_GM_eddy_parameterization(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_eddy_parameterization(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_cvmix(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_wave_coupling(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_gotm(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_forcing(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_time_varying_forcing(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_coupling(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_shortwaveRadiation(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_tidal_forcing(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_self_attraction_loading(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_tidal_potential_forcing(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_frazil_ice(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_land_ice_fluxes(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_advection(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_bottom_drag(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_Rayleigh_damping(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_vegetation_drag(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_wetting_drying(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_ocean_constants(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_lts(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_pressure_gradient(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_eos(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_eos_linear(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_eos_wright(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_split_timestep_share(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_split_explicit_ts(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_split_implicit_ts(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_ALE_vertical_grid(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_ALE_frequency_filtered_thickness(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_debug(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_testing(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_transport_tests(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_init_mode_vert_levels(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_manufactured_solution(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_tracer_forcing_activeTracers(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_tracer_forcing_debugTracers(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_tracer_forcing_ecosysTracers(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_tracer_forcing_DMSTracers(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_tracer_forcing_MacroMoleculesTracers(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_tracer_forcing_idealAgeTracers(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_tracer_forcing_CFCTracers(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_AM_globalStats(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_AM_surfaceAreaWeightedAverages(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_AM_waterMassCensus(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_AM_layerVolumeWeightedAverage(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_AM_zonalMean(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_AM_okuboWeiss(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_AM_meridionalHeatTransport(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_AM_testComputeInterval(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_AM_highFrequencyOutput(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_AM_timeFilters(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_AM_lagrPartTrack(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_AM_eliassenPalm(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_AM_mixedLayerDepths(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_AM_regionalStatsDaily(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_AM_regionalStatsWeekly(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_AM_regionalStatsMonthly(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_AM_regionalStatsCustom(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_AM_timeSeriesStatsDaily(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_AM_timeSeriesStatsMonthly(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_AM_timeSeriesStatsClimatology(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_AM_timeSeriesStatsMonthlyMax(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_AM_timeSeriesStatsMonthlyMin(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_AM_timeSeriesStatsCustom(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_AM_pointwiseStats(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_AM_debugDiagnostics(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_AM_rpnCalculator(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_AM_transectTransport(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_AM_eddyProductVariables(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_AM_mocStreamfunction(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_AM_oceanHeatContent(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_AM_mixedLayerHeatBudget(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_AM_sedimentFluxIndex(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_AM_sedimentTransport(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_AM_harmonicAnalysis(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_AM_conservationCheck(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_baroclinic_channel(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_lock_exchange(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_internal_waves(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_overflow(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_dam_break(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_global_ocean(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_cvmix_WSwSBF(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_iso(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_soma(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_ziso(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_sub_ice_shelf_2D(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_periodic_planar(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_ecosys_column(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_sea_mount(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_isomip(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_isomip_plus(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_hurricane(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_tidal_boundary(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_cosine_bell(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_mixed_layer_eddy(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_test_sht(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_parabolic_bowl(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_partial_cells(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_init_setup(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_CVTgenerator(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_init_vertical_grid(configPool, unitNumber, dminfo)
      call ocn_setup_nmlrec_constrain_Haney_number(configPool, unitNumber, dminfo)

      close(unitNumber)
   end function ocn_setup_namelists

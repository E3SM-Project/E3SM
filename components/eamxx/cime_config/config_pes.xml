<?xml version="1.0"?>
<config_pes>
  <grid name="any">
    <mach name="any">
      <pes compset=".+" pesize="any">
        <comment>default eamxx, 1 node, no threads</comment>
        <ntasks>
          <ntasks_atm>-1</ntasks_atm>
          <ntasks_lnd>-1</ntasks_lnd>
          <ntasks_rof>-1</ntasks_rof>
          <ntasks_ice>-1</ntasks_ice>
          <ntasks_ocn>-1</ntasks_ocn>
          <ntasks_glc>-1</ntasks_glc>
          <ntasks_wav>-1</ntasks_wav>
          <ntasks_cpl>-1</ntasks_cpl>
        </ntasks>
      </pes>
    </mach>
  </grid>
  <grid name="a%ne4np4">
    <mach name="pm-gpu|muller-gpu|alvarez-gpu">
      <pes compset=".*EAM.+ELM.+DOCN" pesize="any">
        <comment>pm-gpu: ne4 eamxx F case, 1 nodes, 4x1</comment>
        <ntasks>
          <ntasks_atm>-1</ntasks_atm>
          <ntasks_cpl>-1</ntasks_cpl>
          <ntasks_ice>-1</ntasks_ice>
          <ntasks_lnd>-1</ntasks_lnd>
          <ntasks_rof>-1</ntasks_rof>
          <ntasks_ocn>-1</ntasks_ocn>
          <ntasks_glc>1</ntasks_glc>
          <ntasks_wav>1</ntasks_wav>
        </ntasks>
        <nthrds>
          <nthrds_lnd>16</nthrds_lnd>
          <nthrds_ice>16</nthrds_ice>
        </nthrds>
      </pes>
    </mach>
    <mach name="frontier">
      <pes compset="any" pesize="any">
        <comment>frontier: ne4 eamxx 1 node, 7 threads in LND/ICE</comment>
        <ntasks>
          <ntasks_atm>-1</ntasks_atm>
          <ntasks_cpl>-1</ntasks_cpl>
          <ntasks_ice>-1</ntasks_ice>
          <ntasks_lnd>-1</ntasks_lnd>
          <ntasks_rof>-1</ntasks_rof>
          <ntasks_ocn>-1</ntasks_ocn>
          <ntasks_glc>1</ntasks_glc>
          <ntasks_wav>1</ntasks_wav>
        </ntasks>
        <nthrds>
          <nthrds_lnd>7</nthrds_lnd>
          <nthrds_ice>7</nthrds_ice>
        </nthrds>
      </pes>
    </mach>
    <mach name="pm-cpu|muller-cpu|alvarez-cpu">
      <pes compset="any" pesize="any">
        <comment>pm-cpu: ne4 eamxx 1 node, 96x1</comment>
        <ntasks>
          <ntasks_atm>96</ntasks_atm>
          <ntasks_cpl>96</ntasks_cpl>
          <ntasks_ice>96</ntasks_ice>
          <ntasks_lnd>96</ntasks_lnd>
          <ntasks_rof>96</ntasks_rof>
          <ntasks_ocn>96</ntasks_ocn>
          <ntasks_glc>1</ntasks_glc>
          <ntasks_wav>1</ntasks_wav>
        </ntasks>
      </pes>
    </mach>
    <mach name="anvil|compy">
      <pes compset="any" pesize="any">
        <comment>anvil/compy: ne4 eamxx 1 node CPU</comment>
        <ntasks>
          <ntasks_atm>-1</ntasks_atm>
          <ntasks_lnd>-1</ntasks_lnd>
          <ntasks_rof>-1</ntasks_rof>
          <ntasks_ice>-1</ntasks_ice>
          <ntasks_ocn>-1</ntasks_ocn>
          <ntasks_glc>-1</ntasks_glc>
          <ntasks_wav>-1</ntasks_wav>
          <ntasks_cpl>-1</ntasks_cpl>
        </ntasks>
      </pes>
    </mach>
    <mach name="chrysalis">
      <pes compset="any" pesize="any">
        <comment>chrysalis: ne4 eamxx 1 node CPU</comment>
        <ntasks>
          <ntasks_atm>-1</ntasks_atm>
          <ntasks_lnd>-1</ntasks_lnd>
          <ntasks_rof>-1</ntasks_rof>
          <ntasks_ice>-1</ntasks_ice>
          <ntasks_ocn>-1</ntasks_ocn>
          <ntasks_glc>-1</ntasks_glc>
          <ntasks_wav>-1</ntasks_wav>
          <ntasks_cpl>-1</ntasks_cpl>
        </ntasks>
      </pes>
    </mach>
    <mach name="gcp12">
      <pes compset=".*EAM.+ELM.+DOCN" pesize="any">
        <comment>gcp12: ne4 eamxx F case, 1 nodes, 56x1</comment>
        <ntasks>
          <ntasks_atm>-1</ntasks_atm>
          <ntasks_cpl>-1</ntasks_cpl>
          <ntasks_ice>-1</ntasks_ice>
          <ntasks_lnd>-1</ntasks_lnd>
          <ntasks_rof>-1</ntasks_rof>
          <ntasks_ocn>-1</ntasks_ocn>
          <ntasks_glc>1</ntasks_glc>
          <ntasks_wav>1</ntasks_wav>
        </ntasks>
      </pes>
    </mach>
  </grid>
  <grid name="a%ne30np4">
    <mach name="pm-gpu|muller-gpu|alvarez-gpu">
      <pes compset=".*EAM.+ELM.+DOCN" pesize="any">
        <comment>pm-gpu: ne30 eamxx F case, 2 nodes, 4x1</comment>
        <ntasks>
          <ntasks_atm>-2</ntasks_atm>
          <ntasks_cpl>-2</ntasks_cpl>
          <ntasks_ice>-2</ntasks_ice>
          <ntasks_lnd>-2</ntasks_lnd>
          <ntasks_rof>-2</ntasks_rof>
          <ntasks_ocn>-2</ntasks_ocn>
          <ntasks_glc>1</ntasks_glc>
          <ntasks_wav>1</ntasks_wav>
        </ntasks>
        <nthrds>
          <nthrds_lnd>16</nthrds_lnd>
          <nthrds_ice>16</nthrds_ice>
        </nthrds>
      </pes>
    </mach>
    <mach name="frontier">
      <pes compset="any" pesize="any">
        <comment>frontier: ne30 eamxx 2 nodes, 7 threads in LND/ICE</comment>
        <ntasks>
          <ntasks_atm>-2</ntasks_atm>
          <ntasks_cpl>-2</ntasks_cpl>
          <ntasks_ice>-2</ntasks_ice>
          <ntasks_lnd>-2</ntasks_lnd>
          <ntasks_rof>-2</ntasks_rof>
          <ntasks_ocn>-2</ntasks_ocn>
          <ntasks_glc>1</ntasks_glc>
          <ntasks_wav>1</ntasks_wav>
        </ntasks>
        <nthrds>
          <nthrds_lnd>7</nthrds_lnd>
          <nthrds_ice>7</nthrds_ice>
        </nthrds>
      </pes>
    </mach>
    <mach name="pm-cpu|muller-cpu|alvarez-cpu">
      <pes compset="any" pesize="any">
        <comment>pm-cpu: ne30 eamxx 2 nodes, 128x1</comment>
        <ntasks>
          <ntasks_atm>-2</ntasks_atm>
          <ntasks_cpl>-2</ntasks_cpl>
          <ntasks_ice>-2</ntasks_ice>
          <ntasks_lnd>-2</ntasks_lnd>
          <ntasks_rof>-2</ntasks_rof>
          <ntasks_ocn>-2</ntasks_ocn>
          <ntasks_glc>1</ntasks_glc>
          <ntasks_wav>1</ntasks_wav>
        </ntasks>
      </pes>
    </mach>
    <mach name="gcp12">
      <pes compset=".*EAM.+ELM.+DOCN" pesize="any">
        <comment>gcp12: ne30 eamxx F case, 4 nodes, 56x1 CPU</comment>
        <ntasks>
          <ntasks_atm>-4</ntasks_atm>
          <ntasks_cpl>-4</ntasks_cpl>
          <ntasks_ice>-4</ntasks_ice>
          <ntasks_lnd>-4</ntasks_lnd>
          <ntasks_rof>-4</ntasks_rof>
          <ntasks_ocn>-4</ntasks_ocn>
          <ntasks_glc>1</ntasks_glc>
          <ntasks_wav>1</ntasks_wav>
        </ntasks>
      </pes>
    </mach>
  </grid>
  <grid name="a%ne120np4">
    <mach name="pm-gpu|muller-gpu|alvarez-gpu">
      <pes compset=".*EAM.+ELM.+DOCN" pesize="any">
        <comment>pm-gpu: ne120 eamxx F case, 8 nodes, 4x1</comment>
        <ntasks>
          <ntasks_atm>32</ntasks_atm>
          <ntasks_cpl>32</ntasks_cpl>
          <ntasks_ice>32</ntasks_ice>
          <ntasks_lnd>32</ntasks_lnd>
          <ntasks_rof>32</ntasks_rof>
          <ntasks_ocn>32</ntasks_ocn>
          <ntasks_glc>1</ntasks_glc>
          <ntasks_wav>1</ntasks_wav>
        </ntasks>
        <nthrds>
          <nthrds_lnd>16</nthrds_lnd>
          <nthrds_ice>16</nthrds_ice>
        </nthrds>
      </pes>
    </mach>
  </grid>
  <grid name="a%ne256np4">
    <mach name="pm-gpu|muller-gpu|alvarez-gpu">
      <pes compset=".*EAM.+ELM.+DOCN" pesize="any">
        <comment>pm-gpu: ne256 eamxx F case, 32 nodes, 4x1, 16 threads for LND/ICE</comment>
        <ntasks>
          <ntasks_atm>128</ntasks_atm>
          <ntasks_cpl>128</ntasks_cpl>
          <ntasks_ice>128</ntasks_ice>
          <ntasks_lnd>128</ntasks_lnd>
          <ntasks_rof>128</ntasks_rof>
          <ntasks_ocn>128</ntasks_ocn>
          <ntasks_glc>1</ntasks_glc>
          <ntasks_wav>1</ntasks_wav>
        </ntasks>
        <nthrds>
          <nthrds_lnd>16</nthrds_lnd>
          <nthrds_ice>16</nthrds_ice>
        </nthrds>
      </pes>
    </mach>
  </grid>
  <grid name="a%ne512np4">
    <mach name="pm-gpu|muller-gpu|alvarez-gpu">
      <pes compset=".*EAM.+ELM.+DOCN" pesize="any">
        <comment>pm-gpu: ne512 eamxx F case, 128 nodes, 4x1, 16 threads for LND/ICE</comment>
        <ntasks>
          <ntasks_atm>512</ntasks_atm>
          <ntasks_cpl>512</ntasks_cpl>
          <ntasks_ice>512</ntasks_ice>
          <ntasks_lnd>512</ntasks_lnd>
          <ntasks_rof>512</ntasks_rof>
          <ntasks_ocn>512</ntasks_ocn>
          <ntasks_glc>1</ntasks_glc>
          <ntasks_wav>1</ntasks_wav>
        </ntasks>
        <nthrds>
          <nthrds_lnd>16</nthrds_lnd>
          <nthrds_ice>16</nthrds_ice>
        </nthrds>
      </pes>
    </mach>
  </grid>
  <grid name="a%ne1024np4">
    <mach name="pm-gpu|muller-gpu|alvarez-gpu">
      <pes compset=".*EAM.+ELM.+DOCN" pesize="any">
        <comment>pm-gpu: ne1024 eamxx F case, 512 nodes, 4x1, 16 threads for LND/ICE</comment>
        <ntasks>
          <ntasks_atm>2048</ntasks_atm>
          <ntasks_cpl>2048</ntasks_cpl>
          <ntasks_ice>2048</ntasks_ice>
          <ntasks_lnd>2048</ntasks_lnd>
          <ntasks_rof>2048</ntasks_rof>
          <ntasks_ocn>2048</ntasks_ocn>
          <ntasks_glc>1</ntasks_glc>
          <ntasks_wav>1</ntasks_wav>
        </ntasks>
        <nthrds>
          <nthrds_lnd>16</nthrds_lnd>
          <nthrds_ice>16</nthrds_ice>
        </nthrds>
      </pes>
    </mach>
  </grid>
  <grid name="a%ne0np4_conus_x4v1_lowcon.pg2_l%r05_oi%oEC60to30v3_r%null_g%null_w%null_z%null_m%oEC60to30v3">
    <mach name="frontier">
      <pes compset="any" pesize="any">
        <comment>frontier conus 2 nodes, 8x1 except 7 threads in LND</comment>
        <ntasks>
          <ntasks_atm>-2</ntasks_atm>
          <ntasks_lnd>-2</ntasks_lnd>
          <ntasks_rof>-2</ntasks_rof>
          <ntasks_ice>-2</ntasks_ice>
          <ntasks_ocn>-2</ntasks_ocn>
          <ntasks_cpl>-2</ntasks_cpl>
          <ntasks_glc>-1</ntasks_glc>
          <ntasks_wav>-1</ntasks_wav>
        </ntasks>
        <nthrds>
          <nthrds_atm>1</nthrds_atm>
          <nthrds_lnd>7</nthrds_lnd>
          <nthrds_rof>1</nthrds_rof>
          <nthrds_ice>1</nthrds_ice>
          <nthrds_ocn>1</nthrds_ocn>
          <nthrds_cpl>1</nthrds_cpl>
        </nthrds>
      </pes>
    </mach>
    <mach name="pm-gpu|muller-gpu|alvarez-gpu">
      <pes compset="any" pesize="any">
        <comment>pm-gpu conus 2 nodes, 4x1 except 16 threads in LND</comment>
        <ntasks>
          <ntasks_atm>-2</ntasks_atm>
          <ntasks_lnd>-2</ntasks_lnd>
          <ntasks_rof>-2</ntasks_rof>
          <ntasks_ice>-2</ntasks_ice>
          <ntasks_ocn>-2</ntasks_ocn>
          <ntasks_cpl>-2</ntasks_cpl>
          <ntasks_glc>-1</ntasks_glc>
          <ntasks_wav>-1</ntasks_wav>
        </ntasks>
        <nthrds>
          <nthrds_atm>1</nthrds_atm>
          <nthrds_lnd>16</nthrds_lnd>
          <nthrds_rof>1</nthrds_rof>
          <nthrds_ice>1</nthrds_ice>
          <nthrds_ocn>1</nthrds_ocn>
          <nthrds_cpl>1</nthrds_cpl>
        </nthrds>
      </pes>
    </mach>
  </grid>
</config_pes>

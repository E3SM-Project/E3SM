<?xml version="1.0" encoding="UTF-8"?>
<config_compilers version="2.0">
<!--
===========================
This file defines compiler flags for building CIME.  General flags are listed first
followed by flags specific to particular operating systems, followed by particular machines.

More general flags are replaced by more specific flags.
Flags of the sort <append> indicate that the field should be appended to an already existing FLAG definition.

Attributes indicate that an if clause should be added to the Macros so that these flags are added
only under the conditions described by the attribute(s).

The env_mach_specific file may set environment variables or load modules which set environment variables
which are then  used in the Makefile.   For example the NETCDF_PATH on many machines is set by a module.

========================================================================
 Serial/MPI compiler specification
========================================================================

SCC   and  SFC specifies the serial compiler
MPICC and  MPICC specifies the mpi compiler

if $MPILIB is set to mpi-serial then
   CC = $SCC
   FC = $SFC
   MPICC = $SCC
   MPIFC = $SFC
   INC_MPI = $(CIMEROOT)/src/externals/mct/mpi-serial

========================================================================
 Options for including C++ code in the build
========================================================================

SUPPORTS_CXX (TRUE/FALSE): Whether we have defined all the necessary
settings for including C++ code in the build for this compiler (or
this compiler/machine combination). See below for a description of the
necessary settings.

The following are required for a compiler to support the inclusion of
C++ code:

SCXX: serial C++ compiler

MPICXX: mpi C++ compiler

CXX_LINKER (CXX/FORTRAN): When C++ code is included in the build, do
we use a C++ or Fortran linker?

In addition, some compilers require additional libraries or link-time
flags, specified via CXX_LIBS or CXX_LDFLAGS, as in the following
examples:

<CXX_LIBS> -L/path/to/directory -lfoo </CXX_LIBS>

or

<CXX_LDFLAGS> -cxxlib </CXX_LDFLAGS>

Note that these libraries or LDFLAGS will be added on the link line,
regardless of whether we are using a C++ or Fortran linker. For
example, if CXX_LINKER=CXX, then the above CXX_LIBS line should
specify extra libraries needed when linking C++ and fortran code using
a C++ linker. If CXX_LINKER=FORTRAN, then the above CXX_LDFLAGS line
should specify extra LDFLAGS needed when linking C++ and fortran code
using a fortran linker.

These should NOT be specified via <SLIBS> <append USE_CXX="true"> or
<LDFLAGS> <append USE_CXX="true">, because those mess up the configure step
for mct, etc.

========================================================================
 MPAS
========================================================================

MPAS has a semi-autonomous build from core E3SM. Component-specific (mali, mpassi)
flags should be captured within MPAS CMake files.

===========================
-->
<!-- Define default values that can be overridden by specific
     compilers -->
<compiler>
  <SUPPORTS_CXX>FALSE</SUPPORTS_CXX>
</compiler>

<compiler COMPILER="cray">
  <CFLAGS>
    <append compile_threaded="TRUE"> -h omp </append>
    <append DEBUG="TRUE"> -g -O0 </append>
  </CFLAGS>
  <CPPDEFS>
    <!--http://docs.cray.com/cgi-bin/craydoc.cgi?mode=View;id=S-3901-83;idx=books_search;this_sort=;q=;type=books;title=Cray%20Fortran%20Reference%20Manual -->
    <append> -DFORTRANUNDERSCORE -DNO_R16 -DCPRCRAY</append>
  </CPPDEFS>
  <FC_AUTO_R8>
    <base> -s real64 </base>
  </FC_AUTO_R8>
  <FFLAGS>
    <base> -f free -N 255 -h byteswapio -em </base>
    <append compile_threaded="TRUE"> -h omp </append>
    <append compile_threaded="FALSE"> -M1077 </append>
    <append DEBUG="TRUE"> -g -O0 </append>
  </FFLAGS>
  <FFLAGS_NOOPT>
    <base> -O0 </base>
  </FFLAGS_NOOPT>
  <HAS_F2008_CONTIGUOUS>TRUE</HAS_F2008_CONTIGUOUS>
  <LDFLAGS>
    <base> -Wl,--allow-multiple-definition -h byteswapio </base>
    <append compile_threaded="TRUE"> -h omp </append>
  </LDFLAGS>
  <SUPPORTS_CXX>TRUE</SUPPORTS_CXX>
  <CXX_LINKER>FORTRAN</CXX_LINKER>
</compiler>

<compiler COMPILER="gnu">
  <CFLAGS>
    <base> -mcmodel=medium </base>
    <append compile_threaded="TRUE"> -fopenmp </append>
    <append DEBUG="TRUE"> -g -Wall -fbacktrace -fcheck=bounds -ffpe-trap=invalid,zero,overflow</append>
    <append DEBUG="FALSE"> -O </append>
    <append COMP_NAME="csm_share"> -std=c99 </append>
  </CFLAGS>
  <CXXFLAGS>
    <base> -std=c++14 </base>
    <append compile_threaded="TRUE"> -fopenmp </append>
    <append DEBUG="TRUE"> -g -Wall -fbacktrace </append>
    <append DEBUG="FALSE"> -O </append>
  </CXXFLAGS>
  <CMAKE_OPTS>
    <append COMP_NAME="cism"> -D CISM_GNU=ON </append>
  </CMAKE_OPTS>
  <CPPDEFS>
    <!-- http://gcc.gnu.org/onlinedocs/gfortran/ -->
    <append> -DFORTRANUNDERSCORE -DNO_R16 -DCPRGNU</append>
  </CPPDEFS>
  <CPPDEFS>
    <append DEBUG="TRUE"> -DYAKL_DEBUG </append>
  </CPPDEFS>
  <CXX_LINKER>FORTRAN</CXX_LINKER>
  <FC_AUTO_R8>
    <base> -fdefault-real-8 </base>
  </FC_AUTO_R8>
  <FFLAGS>
    <!-- -ffree-line-length-none and -ffixed-line-length-none need to be in FFLAGS rather than in FIXEDFLAGS/FREEFLAGS
       so that these are passed to cmake builds (cmake builds don't use FIXEDFLAGS and FREEFLAGS). -->
    <base> -mcmodel=medium -fconvert=big-endian -ffree-line-length-none -ffixed-line-length-none </base>
    <append compile_threaded="TRUE"> -fopenmp </append>
    <!-- Ideally, we would also have 'invalid' in the ffpe-trap list. But at
         least with some versions of gfortran (confirmed with 5.4.0, 6.3.0 and
         7.1.0, 8.2.0, 8.3.0), gfortran's isnan (which is called in cime via the
         CPRGNU-specific shr_infnan_isnan) causes a floating point exception
         when called on a signaling NaN. -->
    <append DEBUG="TRUE"> -g -Wall -fbacktrace -fcheck=bounds -ffpe-trap=zero,overflow</append>
    <append DEBUG="FALSE"> -O </append>
  </FFLAGS>
  <FFLAGS_NOOPT>
    <base> -O0 </base>
  </FFLAGS_NOOPT>
  <FIXEDFLAGS>
    <base>  -ffixed-form </base>
  </FIXEDFLAGS>
  <FREEFLAGS>
    <base> -ffree-form </base>
  </FREEFLAGS>
  <HAS_F2008_CONTIGUOUS>FALSE</HAS_F2008_CONTIGUOUS>
  <LDFLAGS>
    <append compile_threaded="TRUE"> -fopenmp </append>
  </LDFLAGS>
  <MPICC> mpicc  </MPICC>
  <MPICXX> mpicxx </MPICXX>
  <MPIFC> mpif90 </MPIFC>
  <SCC> gcc </SCC>
  <SCXX> g++ </SCXX>
  <SFC> gfortran </SFC>
  <SUPPORTS_CXX>TRUE</SUPPORTS_CXX>
</compiler>

<compiler COMPILER="gnugpu">
  <CFLAGS>
    <base> -mcmodel=medium </base>
    <append compile_threaded="TRUE"> -fopenmp </append>
    <append DEBUG="TRUE"> -g -Wall -fbacktrace -fcheck=bounds -ffpe-trap=invalid,zero,overflow</append>
    <append DEBUG="FALSE"> -O </append>
    <append COMP_NAME="csm_share"> -std=c99 </append>
  </CFLAGS>
  <CXXFLAGS>
    <base> -std=c++14 </base>
    <append compile_threaded="TRUE"> -fopenmp </append>
    <append DEBUG="TRUE"> -g -Wall -fbacktrace </append>
    <append DEBUG="FALSE"> -O </append>
  </CXXFLAGS>
  <CPPDEFS>
    <!-- http://gcc.gnu.org/onlinedocs/gfortran/ -->
    <append> -DFORTRANUNDERSCORE -DNO_R16 -DCPRGNU</append>
  </CPPDEFS>
  <CPPDEFS>
    <append DEBUG="TRUE"> -DYAKL_DEBUG </append>
  </CPPDEFS>
  <CXX_LINKER>FORTRAN</CXX_LINKER>
  <FC_AUTO_R8>
    <base> -fdefault-real-8 </base>
  </FC_AUTO_R8>
  <FFLAGS>
    <!-- -ffree-line-length-none and -ffixed-line-length-none need to be in FFLAGS rather than in FIXEDFLAGS/FREEFLAGS
       so that these are passed to cmake builds (cmake builds don't use FIXEDFLAGS and FREEFLAGS). -->
    <base> -mcmodel=medium -fconvert=big-endian -ffree-line-length-none -ffixed-line-length-none </base>
    <append compile_threaded="TRUE"> -fopenmp </append>
    <!-- Ideally, we would also have 'invalid' in the ffpe-trap list. But at
         least with some versions of gfortran (confirmed with 5.4.0, 6.3.0 and
         7.1.0, 8.2.0, 8.3.0), gfortran's isnan (which is called in cime via the
         CPRGNU-specific shr_infnan_isnan) causes a floating point exception
         when called on a signaling NaN. -->
    <append DEBUG="TRUE"> -g -Wall -fbacktrace -fcheck=bounds -ffpe-trap=zero,overflow</append>
    <append DEBUG="FALSE"> -O </append>
  </FFLAGS>
  <FFLAGS_NOOPT>
    <base> -O0 </base>
  </FFLAGS_NOOPT>
  <FIXEDFLAGS>
    <base>  -ffixed-form </base>
  </FIXEDFLAGS>
  <FREEFLAGS>
    <base> -ffree-form </base>
  </FREEFLAGS>
  <HAS_F2008_CONTIGUOUS>FALSE</HAS_F2008_CONTIGUOUS>
  <LDFLAGS>
    <append compile_threaded="TRUE"> -fopenmp </append>
  </LDFLAGS>
  <MPICC> mpicc  </MPICC>
  <MPICXX> mpicxx </MPICXX>
  <MPIFC> mpif90 </MPIFC>
  <SCC> gcc </SCC>
  <SCXX> g++ </SCXX>
  <SFC> gfortran </SFC>
  <SUPPORTS_CXX>TRUE</SUPPORTS_CXX>
</compiler>

<compiler COMPILER="ibm">
  <CFLAGS>
    <base> -g -qfullpath -qmaxmem=-1 -qphsinfo </base>
    <append DEBUG="FALSE"> -O3  </append>
    <append DEBUG="FALSE" compile_threaded="TRUE"> -qsmp=omp </append>
    <append DEBUG="TRUE" compile_threaded="TRUE"> -qsmp=omp:noopt </append>
  </CFLAGS>
  <CXXFLAGS>
    <base> -g -qfullpath -qmaxmem=-1 -qphsinfo </base>
    <append DEBUG="FALSE"> -O2  </append>
    <append DEBUG="FALSE" compile_threaded="TRUE"> -qsmp=omp </append>
    <append DEBUG="TRUE" compile_threaded="TRUE"> -qsmp=omp:noopt </append>
  </CXXFLAGS>
  <CPPDEFS>
    <!-- http://publib.boulder.ibm.com/infocenter/comphelp/v7v91/index.jsp
 Notes:  (see xlf user's guide for the details)
  -lmass          => IBM-tuned intrinsic lib
  -qsmp=noauto    => enable SMP directives, but don't add any
  -qsmp=omp       => enable SMP directives, strict omp
  -qstrict        => don't turn divides into multiplies, etc
  -qhot           => higher-order-transformations (eg. loop padding)
  -qalias=noaryovrlp => assume no array overlap wrt equivalance, etc
  -qmaxmem=-1     => memory available to compiler during optimization
  -qipa=level=2   => InterProcedure Analysis (eg. inlining) => slow compiles
  -p -pg          => enable profiling (use in both FFLAGS and LDFLAGS)
  -qreport        => for smp/omp only
  -g              => always leave it on because overhead is minimal
  -qflttrap=...   => enable default sigtrap (core dump)
  -C              => runtime array bounds checking (runs slow)
  -qinitauto=...  => initializes automatic variables
  -->
    <append> -DFORTRAN_SAME -DCPRIBM</append>
    <append COMP_NAME="eam"> -DUSE_CBOOL </append>
  </CPPDEFS>
  <CPRE>-WF,-D</CPRE>
  <FC_AUTO_R8>
    <base> -qrealsize=8 </base>
  </FC_AUTO_R8>
  <FFLAGS>
    <base> -g -qfullpath -qmaxmem=-1 -qphsinfo </base>
    <append DEBUG="FALSE"> -O2 -qstrict -Q </append>
    <append DEBUG="FALSE" compile_threaded="TRUE"> -qsmp=omp </append>
    <append DEBUG="TRUE" compile_threaded="TRUE"> -qsmp=omp:noopt </append>
    <append DEBUG="TRUE"> -qinitauto=7FF7FFFF -qflttrap=ov:zero:inv:en </append>
  </FFLAGS>
  <FFLAGS_NOOPT>
    <base> -O0 </base>
  </FFLAGS_NOOPT>
  <FIXEDFLAGS>
    <base>  -qsuffix=f=f -qfixed=132 </base>
  </FIXEDFLAGS>
  <FREEFLAGS>
    <base> -qsuffix=f=f90:cpp=F90  </base>
  </FREEFLAGS>
  <HAS_F2008_CONTIGUOUS>TRUE</HAS_F2008_CONTIGUOUS>
</compiler>

<compiler COMPILER="intel">
  <CFLAGS>
    <base> -O2 -fp-model precise -std=gnu99 </base>
    <append compile_threaded="TRUE"> -qopenmp </append>
    <append DEBUG="FALSE"> -O2 -debug minimal </append>
    <append DEBUG="TRUE"> -O0 -g </append>
  </CFLAGS>
  <CXXFLAGS>
    <base> -std=c++14 -fp-model source </base>
    <append compile_threaded="TRUE"> -qopenmp </append>
    <append DEBUG="TRUE"> -O0 -g </append>
    <append DEBUG="FALSE"> -O2 </append>
  </CXXFLAGS>
  <CPPDEFS>
    <!-- http://software.intel.com/en-us/articles/intel-composer-xe/ -->
    <append> -DFORTRANUNDERSCORE -DNO_R16 -DCPRINTEL</append>
  </CPPDEFS>
  <CXX_LDFLAGS>
    <base> -cxxlib </base>
  </CXX_LDFLAGS>
  <CXX_LINKER>FORTRAN</CXX_LINKER>
  <FC_AUTO_R8>
    <base> -r8 </base>
  </FC_AUTO_R8>
  <FFLAGS>
    <base>  -convert big_endian -assume byterecl -ftz -traceback -assume realloc_lhs -fp-model source </base>
    <append compile_threaded="TRUE"> -qopenmp </append>
    <append DEBUG="TRUE"> -O0 -g -check uninit -check bounds -check pointers -fpe0 -check noarg_temp_created </append>
    <append DEBUG="FALSE"> -O2 -debug minimal </append>
  </FFLAGS>
  <FFLAGS_NOOPT>
    <base> -O0 </base>
  </FFLAGS_NOOPT>
  <FIXEDFLAGS>
    <base> -fixed -132 </base>
  </FIXEDFLAGS>
  <FREEFLAGS>
    <base> -free </base>
  </FREEFLAGS>
  <HAS_F2008_CONTIGUOUS>TRUE</HAS_F2008_CONTIGUOUS>
  <LDFLAGS>
    <append compile_threaded="TRUE"> -qopenmp </append>
  </LDFLAGS>
  <MPICC> mpicc  </MPICC>
  <MPICXX> mpicxx </MPICXX>
  <MPIFC> mpif90 </MPIFC>
  <SCC> icc </SCC>
  <SCXX> icpc </SCXX>
  <SFC> ifort </SFC>
  <SUPPORTS_CXX>TRUE</SUPPORTS_CXX>
</compiler>

<compiler COMPILER="nag">
  <CFLAGS>
    <append DEBUG="TRUE"> -g </append>
    <append> -std=c99 </append>
  </CFLAGS>
  <CPPDEFS>
    <append> -DFORTRANUNDERSCORE -DNO_CRAY_POINTERS -DNO_SHR_VMATH -DCPRNAG</append>
  </CPPDEFS>
  <FC_AUTO_R8>
    <base> -r8 </base>
  </FC_AUTO_R8>
  <FFLAGS>
    <!-- Yes, you really do need this huge -wmismatch flag for NAG to work.    -->
    <!-- More specifically, it exempts MPI functions without explicit          -->
    <!-- interfaces from certain argument checks. Should not be necessary in   -->
    <!-- libraries that only use the F90 module interface. mpibcast and        -->
    <!-- mpiscatterv are actually CAM wrappers for MPI.                        -->
    <base> -wmismatch=mpi_send,mpi_recv,mpi_bcast,mpi_allreduce,mpi_reduce,mpi_isend,mpi_irecv,mpi_irsend,mpi_rsend,mpi_gatherv,mpi_gather,mpi_scatterv,mpi_allgather,mpi_alltoallv,mpi_file_read_all,mpi_file_write_all,mpibcast,mpiscatterv,mpi_alltoallw,nfmpi_get_vara_all,NFMPI_IPUT_VARA,NFMPI_GET_VAR_ALL,NFMPI_PUT_VARA,NFMPI_PUT_ATT_REAL,NFMPI_PUT_ATT_DOUBLE,NFMPI_PUT_ATT_INT,NFMPI_GET_ATT_REAL,NFMPI_GET_ATT_INT,NFMPI_GET_ATT_DOUBLE,NFMPI_PUT_VARA_DOUBLE_ALL,NFMPI_PUT_VARA_REAL_ALL,NFMPI_PUT_VARA_INT_ALL    -convert=BIG_ENDIAN </base>
    <!-- DEBUG vs. non-DEBUG runs.                                             -->
    <append DEBUG="FALSE"> -ieee=full -O2 </append>
    <append DEBUG="TRUE"> -g -time -f2003 -ieee=stop </append>
    <!-- The "-gline" option is nice, but it doesn't work with OpenMP.         -->
    <!-- Runtime checks with OpenMP (in fact, all OpenMP cases) are WIP.       -->
    <append DEBUG="TRUE"> -C=all -g -time -f2003 -ieee=stop </append>
    <append DEBUG="TRUE" compile_threaded="FALSE"> -gline </append>
    <append compile_threaded="TRUE"> -openmp </append>
  </FFLAGS>
  <FIXEDFLAGS>
    <base> -fixed </base>
  </FIXEDFLAGS>
  <FREEFLAGS>
    <base> -free </base>
  </FREEFLAGS>
  <HAS_F2008_CONTIGUOUS>FALSE</HAS_F2008_CONTIGUOUS>
  <LDFLAGS>
    <append compile_threaded="TRUE"> -openmp </append>
  </LDFLAGS>
  <MPICC> mpicc </MPICC>
  <MPIFC> mpif90 </MPIFC>
  <SCC> gcc </SCC>
  <SFC> nagfor </SFC>
</compiler>

<compiler MACH="mymac" COMPILER="gnu">
  <CXX_LINKER>CXX</CXX_LINKER> <!-- for PIO2, it must be CXX; for PIO1, it shall be FORTRAN -->
  <NETCDF_PATH>$ENV{NETCDF_PATH}</NETCDF_PATH> <!-- this is needed for cmake list of ELM, and cannot be passing from machine configuration (weired) -->
  <NETCDF_C_PATH>$ENV{NETCDF_C_PATH}</NETCDF_C_PATH> <!-- optional, needed if NETCDF_PATH not defined -->
  <NETCDF_FORTRAN_PATH>$ENV{NETCDF_FORTRAN_PATH}</NETCDF_FORTRAN_PATH> <!-- optional, needed if NETCDF_PATH not defined -->
  <PNETCDF_PATH>$ENV{PNETCDF_PATH}</PNETCDF_PATH>
  <HDF5_PATH>$ENV{HDF5_PATH}</HDF5_PATH>
  <LAPACK_LIBDIR>$ENV{BLASLAPACK_DIR}</LAPACK_LIBDIR>
  <CFLAGS>
    <!-- for Mac OSX high sierra, clang-based gcc may have issue with '-mcmodel=medium' for libcsm_share.a, as following
         ld: in ../../gnu/mpich/nodebug/nothreads/mct/noesmf/c1a1l1i1o1r1g1w1e1/lib/libcsm_share.a(dSFMT.o), 
             in section __TEXT,__text reloc 3: length != 2 and X86_64_RELOC_GOT not supported file 
             '../../gnu/mpich/nodebug/nothreads/mct/noesmf/c1a1l1i1o1r1g1w1e1/lib/libcsm_share.a' for architecture x86_64
         collect2: error: ld returned 1 exit status 
    -->
    <base> -mcmodel=small </base>
    <append> -I${NETCDF_PATH}/include </append>
  </CFLAGS>
  <FFLAGS>
    <base> -mcmodel=small -fconvert=big-endian -ffree-line-length-none -ffixed-line-length-none </base>
    <append> -I${NETCDF_PATH}/include </append>
  </FFLAGS>
  <LDFLAGS>
    <append> -framework Accelerate </append>
    <append COMP_CLASS="cpl">-L${LAPACK_LIBDIR} -llapack -lblas </append>
    <append> -L$ENV{CC_ROOT}/lib -lgomp </append>
  </LDFLAGS>
  <SLIBS>
    <append>$SHELL{$ENV{NETCDF_PATH}/bin/nc-config --flibs} -lnetcdf </append>
    <append>$SHELL{$ENV{NETCDF_PATH}/bin/nf-config --flibs} -lnetcdff </append>
  </SLIBS>
  <SFC>$ENV{FC_ROOT}/bin/gfortran</SFC>
  <SCC>$ENV{CC_ROOT}/bin/gcc</SCC>
  <SCXX>$ENV{CC_ROOT}/bin/g++</SCXX>
  <MPICC>$ENV{MPI_ROOT}/bin/mpicc</MPICC>
  <MPICXX>$ENV{MPI_ROOT}/bin/mpicxx</MPICXX>
  <MPIFC>$ENV{MPI_ROOT}/bin/mpifort</MPIFC>
</compiler>

<compiler COMPILER="pathscale">
  <CFLAGS>
    <append compile_threaded="TRUE"> -mp </append>
  </CFLAGS>
  <CPPDEFS>
    <!-- http://www.pathscale.com/node/70 -->
    <append> -DFORTRANUNDERSCORE -DNO_R16 -DCPRPATHSCALE </append>
  </CPPDEFS>
  <FC_AUTO_R8>
    <base> -r8 </base>
  </FC_AUTO_R8>
  <FFLAGS>
    <base> -O -extend_source -ftpp -fno-second-underscore -funderscoring -byteswapio  </base>
    <append compile_threaded="TRUE"> -mp </append>
    <append DEBUG="TRUE"> -g -trapuv -Wuninitialized </append>
  </FFLAGS>
  <FFLAGS_NOOPT>
    <base> -O0 </base>
  </FFLAGS_NOOPT>
  <HAS_F2008_CONTIGUOUS>FALSE</HAS_F2008_CONTIGUOUS>
  <LDFLAGS>
    <append compile_threaded="TRUE"> -mp </append>
  </LDFLAGS>
  <MPICC> mpicc  </MPICC>
  <MPIFC> mpif90 </MPIFC>
</compiler>

<compiler COMPILER="nvidia">
  <MPICC> cc </MPICC>
  <MPICXX> CC </MPICXX>
  <MPIFC> ftn </MPIFC>
  <SCC> nvcc </SCC>
  <SCXX> nvc++ </SCXX>
  <SFC> nvfortran </SFC>
  <CPPDEFS>
    <append> -DFORTRANUNDERSCORE -DNO_R16 -DCPRNVIDIA </append>
    <!--append> -DNO_SHR_VMATH </append-->
  </CPPDEFS>
  <CFLAGS>
    <append compile_threaded="TRUE"> -mp </append>
    <append DEBUG="FALSE"> -O0 -Mnofma -Mvect=nosimd </append>
    <append DEBUG="TRUE"> -g </append>
  </CFLAGS>
  <FFLAGS>
    <base> -i4 -Mstack_arrays  -Mextend -byteswapio -Mflushz -Kieee -DHAVE_IEEE_ARITHMETIC -Mallocatable=03 -DNO_R16 -traceback </base>
    <append compile_threaded="TRUE"> -mp </append>
    <append DEBUG="TRUE"> -O0 -g -Ktrap=fp -Mbounds -Kieee </append>
    <append DEBUG="FALSE"> -O2 </append>
  </FFLAGS>
  <CXXFLAGS>
    <base> -std=c++14 </base>
    <append compile_threaded="TRUE"> -mp </append>
    <append DEBUG="TRUE"> -g -O0 -Mnofma -Wall -Kieee -traceback</append>
    <append DEBUG="FALSE"> -O2 </append>
  </CXXFLAGS>
  <CXX_LINKER>CXX</CXX_LINKER>
  <CXX_LIBS>
    <base>-lstdc++</base>
  </CXX_LIBS>
  <FC_AUTO_R8>
    <base> -r8 </base>
  </FC_AUTO_R8>
  <FFLAGS_NOOPT>
    <base> -O0 -Mnofma </base>
  </FFLAGS_NOOPT>
  <FIXEDFLAGS>
    <base> -Mfixed </base>
  </FIXEDFLAGS>
  <FREEFLAGS>
    <base> -Mfree </base>
  </FREEFLAGS>
  <HAS_F2008_CONTIGUOUS>FALSE</HAS_F2008_CONTIGUOUS>
  <LDFLAGS>
    <base> -Wl,--allow-multiple-definition </base>
    <append compile_threaded="TRUE"> -mp </append>
  </LDFLAGS>
  <SUPPORTS_CXX>TRUE</SUPPORTS_CXX>
</compiler>

<compiler COMPILER="nvidiagpu">
  <MPICC> cc </MPICC>
  <MPICXX> CC </MPICXX>
  <MPIFC> ftn </MPIFC>
  <SCC> nvcc </SCC>
  <SCXX> nvc++ </SCXX>
  <SFC> nvfortran </SFC>
  <CPPDEFS>
    <append> -DFORTRANUNDERSCORE -DNO_R16 -DCPRNVIDIA </append>
    <!--append> -DUSE_CUDA_FORTRAN </append-->
    <!--append> -DNO_SHR_VMATH </append-->
    <append DEBUG="TRUE"> -DYAKL_DEBUG </append>
  </CPPDEFS>
  <CFLAGS>
    <append compile_threaded="TRUE"> -mp </append>
    <append DEBUG="FALSE"> -O2 </append>
    <append DEBUG="TRUE"> -g </append>
  </CFLAGS>
  <FFLAGS>
    <base> -i4 -Mstack_arrays -Mextend -byteswapio -Mflushz -Kieee -DHAVE_IEEE_ARITHMETIC -Mallocatable=03 -DNO_R16 -traceback </base>
    <append compile_threaded="TRUE"> -mp </append>
    <append DEBUG="TRUE"> -O0 -g -Ktrap=fp -Mbounds -Kieee </append>
    <append DEBUG="FALSE"> -O2 -DHAVE_IEEE_ARITHMETIC </append>
  </FFLAGS>
  <CXXFLAGS>
    <base> -std=c++14 </base>
    <append compile_threaded="TRUE"> -mp </append>
    <append DEBUG="TRUE"> -g -O0 -Mnofma -Wall -traceback </append>
    <append DEBUG="FALSE"> -O2 </append>
  </CXXFLAGS>
  <CXX_LINKER>CXX</CXX_LINKER>
  <CXX_LIBS>
    <base>-lstdc++</base>
  </CXX_LIBS>
  <FC_AUTO_R8>
    <base> -r8 </base>
  </FC_AUTO_R8>
  <FFLAGS_NOOPT>
    <base> -O0 -Mnofma </base>
  </FFLAGS_NOOPT>
  <FIXEDFLAGS>
    <base> -Mfixed </base>
  </FIXEDFLAGS>
  <FREEFLAGS>
    <base> -Mfree </base>
  </FREEFLAGS>
  <HAS_F2008_CONTIGUOUS>FALSE</HAS_F2008_CONTIGUOUS>
  <LDFLAGS>
    <base> -Wl,--allow-multiple-definition </base>
    <append compile_threaded="TRUE"> -mp </append>
  </LDFLAGS>
  <SUPPORTS_CXX>TRUE</SUPPORTS_CXX>
</compiler>

<compiler COMPILER="pgi">
  <CFLAGS>
    <base> -time </base>
    <append compile_threaded="TRUE"> -mp </append>
  </CFLAGS>
  <CXXFLAGS>
    <base> -time -std=c++14 </base>
    <append compile_threaded="TRUE"> -mp </append>
  </CXXFLAGS>
  <CPPDEFS>
    <!-- http://www.pgroup.com/resources/docs.htm                                              -->
    <!-- Notes:  (see pgi man page & user's guide for the details) -->
    <!--  -Mextend        => Allow 132-column source lines -->
    <!--  -Mfixed         => Assume fixed-format source -->
    <!--  -Mfree          => Assume free-format source -->
    <!--  -byteswapio     => Swap byte-order for unformatted i/o (big/little-endian) -->
    <!--  -target=linux   => Specifies the target architecture to Compute Node Linux (CNL only) -->
    <!--  -fast           => Chooses generally optimal flags for the target platform -->
    <!--  -Mnovect        => Disables automatic vector pipelining -->
    <!--  -Mvect=nosse    => Don't generate SSE, SSE2, 3Dnow, and prefetch instructions in loops    -->
    <!--  -Mflushz        => Set SSE to flush-to-zero mode (underflow) loops where possible  -->
    <!--  -Kieee          => Perform fp ops in strict conformance with the IEEE 754 standard.  -->
    <!--                     Some optimizations disabled, slightly slower, more accurate math.  -->
    <!--  -mp=nonuma      => Don't use thread/processors affinity (for NUMA architectures)  -->
    <!-- -->
    <!--  -g              => Generate symbolic debug information. Turns off optimization.   -->
    <!--  -Mbounds        => Add array bounds checking  -->
    <!--  -Ktrap=fp       => Determine IEEE Trap conditions fp => inv,divz,ovf   -->
    <!--                     * inv: invalid operands         -->
    <!--                     * divz divide by zero           -->
    <!--                     * ovf: floating point overflow   -->
    <!--  -F              => leaves file.f for each preprocessed file.F file  -->
    <!--  -time           => Print execution time for each compiler step  -->
    <append> -DFORTRANUNDERSCORE -DNO_SHR_VMATH -DNO_R16 -DCPRPGI </append>
  </CPPDEFS>
  <CXX_LINKER>CXX</CXX_LINKER>
  <FC_AUTO_R8>
    <base> -r8 </base>
  </FC_AUTO_R8>
  <FFLAGS>
    <base>  -i4 -time -Mstack_arrays  -Mextend -byteswapio -Mflushz -Kieee -Mallocatable=03 </base>
    <append compile_threaded="TRUE"> -mp </append>
    <append DEBUG="TRUE"> -O0 -g -Ktrap=fp -Mbounds -Kieee </append>
    <append COMP_NAME="datm"> -Mnovect </append>
    <append COMP_NAME="dlnd"> -Mnovect </append>
    <append COMP_NAME="drof"> -Mnovect </append>
    <append COMP_NAME="dwav"> -Mnovect </append>
    <append COMP_NAME="dice"> -Mnovect </append>
    <append COMP_NAME="docn"> -Mnovect </append>
  </FFLAGS>
  <FFLAGS_NOOPT>
    <base> -O0 </base>
  </FFLAGS_NOOPT>
  <FIXEDFLAGS>
    <base> -Mfixed </base>
  </FIXEDFLAGS>
  <FREEFLAGS>
    <base> -Mfree </base>
  </FREEFLAGS>
  <!-- Note that SUPPORTS_CXX is false for pgi in general, because we
       need some machine-specific libraries -->
  <!-- Technically, PGI does recognize this keyword during parsing,
       but support is either buggy or incomplete, notably in that
       the "contiguous" attribute is incompatible with "intent".-->
  <HAS_F2008_CONTIGUOUS>FALSE</HAS_F2008_CONTIGUOUS>
  <LDFLAGS>
    <base> -time -Wl,--allow-multiple-definition </base>
    <append compile_threaded="TRUE"> -mp </append>
  </LDFLAGS>
  <MPICC> mpicc </MPICC>
  <MPICXX> mpicxx </MPICXX>
  <MPIFC> mpif90 </MPIFC>
  <SCC> pgcc </SCC>
  <SCXX> pgc++ </SCXX>
  <SFC> pgf95 </SFC>
</compiler>

<compiler COMPILER="pgigpu">
  <CFLAGS>
    <base> -time </base>
    <append compile_threaded="TRUE"> -mp </append>
  </CFLAGS>
  <CXXFLAGS>
    <base> -time -std=c++14 </base>
    <append compile_threaded="TRUE"> -mp </append>
  </CXXFLAGS>
  <CPPDEFS>
    <append> -DFORTRANUNDERSCORE -DNO_SHR_VMATH -DNO_R16 -DCPRPGI </append>
  </CPPDEFS>
  <CXX_LINKER>CXX</CXX_LINKER>
  <FC_AUTO_R8>
    <base> -r8 </base>
  </FC_AUTO_R8>
  <FFLAGS>
    <base>  -i4 -time -Mstack_arrays -Mextend -byteswapio -Mflushz -Kieee -Mallocatable=03 </base>
    <append compile_threaded="TRUE"> -mp </append>
    <append COMP_NAME="eam"> </append>
    <append DEBUG="TRUE"> -O0 -g -Ktrap=fp -Mbounds -Kieee </append>
    <append COMP_NAME="datm"> -Mnovect </append>
    <append COMP_NAME="dlnd"> -Mnovect </append>
    <append COMP_NAME="drof"> -Mnovect </append>
    <append COMP_NAME="dwav"> -Mnovect </append>
    <append COMP_NAME="dice"> -Mnovect </append>
    <append COMP_NAME="docn"> -Mnovect </append>
  </FFLAGS>
  <FFLAGS_NOOPT>
    <base> -O0 </base>
  </FFLAGS_NOOPT>
  <FIXEDFLAGS>
    <base> -Mfixed </base>
  </FIXEDFLAGS>
  <FREEFLAGS>
    <base> -Mfree </base>
  </FREEFLAGS>
  <HAS_F2008_CONTIGUOUS>FALSE</HAS_F2008_CONTIGUOUS>
  <LDFLAGS>
    <base> -time -Wl,--allow-multiple-definition -acc</base>
    <append compile_threaded="TRUE"> -mp </append>
  </LDFLAGS>
  <MPICC> mpicc </MPICC>
  <MPICXX> mpicxx </MPICXX>
  <MPIFC> mpif90 </MPIFC>
  <SCC> pgcc </SCC>
  <SCXX> pgc++ </SCXX>
  <SFC> pgf95 </SFC>
</compiler>

<compiler OS="CNL">
  <CMAKE_OPTS>
    <append MPILIB="!impi"> -DCMAKE_SYSTEM_NAME=Catamount </append>
  </CMAKE_OPTS>
  <CPPDEFS>
    <append> -DLINUX </append>
    <append COMP_NAME="gptl"> -DHAVE_NANOTIME -DBIT64 -DHAVE_VPRINTF -DHAVE_BACKTRACE -DHAVE_SLASHPROC -DHAVE_COMM_F2C -DHAVE_TIMES -DHAVE_GETTIMEOFDAY  </append>
  </CPPDEFS>
  <MPICC> cc </MPICC>
  <MPICXX> CC </MPICXX>
  <MPIFC> ftn </MPIFC>
  <MPI_LIB_NAME> mpich </MPI_LIB_NAME>
  <MPI_PATH> $ENV{MPICH_DIR}</MPI_PATH>
  <NETCDF_PATH>$ENV{NETCDF_DIR}</NETCDF_PATH>
  <PIO_FILESYSTEM_HINTS>lustre</PIO_FILESYSTEM_HINTS>
  <PNETCDF_PATH>$ENV{PARALLEL_NETCDF_DIR}</PNETCDF_PATH>
  <SCC> cc </SCC>
  <SCXX> CC </SCXX>
  <SFC> ftn </SFC>
</compiler>

<compiler OS="Darwin">
  <CPPDEFS>
    <append> -DSYSDARWIN </append>
  </CPPDEFS>
  <!-- The following may cause duplicate symbol issue, especially with Mac OSX high sierra
  <LDFLAGS>
    <append COMP_CLASS="cpl"> -all_load </append>
  </LDFLAGS>
  -->
  
</compiler>

<compiler OS="Darwin" COMPILER="intel">
  <FFLAGS>
    <append compile_threaded="FALSE"> -heap-arrays </append>
  </FFLAGS>
  <SLIBS>
    <append MPILIB="mpich"> -mkl=cluster </append>
    <append MPILIB="mpich2"> -mkl=cluster </append>
    <append MPILIB="mpt"> -mkl=cluster </append>
    <append MPILIB="openmpi"> -mkl=cluster </append>
    <append MPILIB="mvapich"> -mkl=cluster </append>
    <append MPILIB="impi"> -mkl=cluster </append>
    <append MPILIB="mpi-serial"> -mkl </append>
  </SLIBS>
</compiler>

<compiler OS="LINUX" COMPILER="intel">
  <FFLAGS>
    <append> -mcmodel medium -shared-intel </append>
  </FFLAGS>
</compiler>

<compiler MACH="anlworkstation" COMPILER="gnu">
  <ALBANY_PATH>/projects/install/rhel6-x86_64/ACME/AlbanyTrilinos/Albany/build/install</ALBANY_PATH>
  <CFLAGS>
    <append DEBUG="FALSE"> -O2  </append>
  </CFLAGS>
  <CXX_LIBS>
    <base>-lstdc++</base>
  </CXX_LIBS>
  <FFLAGS>
    <append DEBUG="FALSE"> -O2  </append>
  </FFLAGS>
  <SLIBS>
    <append>$SHELL{$ENV{NETCDF_PATH}/bin/nf-config --flibs} -lblas -llapack</append>
  </SLIBS>
  <NETCDF_PATH>$ENV{NETCDF_PATH}</NETCDF_PATH>
  <PNETCDF_PATH>$ENV{PNETCDF_PATH}</PNETCDF_PATH>
  <HDF5_PATH>$ENV{HDF5_PATH}</HDF5_PATH>
  <SZIP_PATH>$ENV{SZIP_PATH}</SZIP_PATH>
  <ZLIB_PATH>$ENV{ZLIB_PATH}</ZLIB_PATH>
</compiler>

<compiler MACH="anlgce" COMPILER="gnu">
  <CFLAGS>
    <append DEBUG="FALSE"> -O2  </append>
  </CFLAGS>
  <CXX_LIBS>
    <base>-lstdc++</base>
  </CXX_LIBS>
  <FFLAGS>
    <append DEBUG="FALSE"> -O2 </append>
    <append> -fallow-argument-mismatch -fallow-invalid-boz </append>
  </FFLAGS>
  <SLIBS>
    <append>$SHELL{$ENV{NETCDF_PATH}/bin/nf-config --flibs} $SHELL{$ENV{NETCDF_PATH}/bin/nc-config --libs} -lblas -llapack</append>
  </SLIBS>
  <NETCDF_PATH>$ENV{NETCDF_PATH}</NETCDF_PATH>
  <PNETCDF_PATH>$ENV{PNETCDF_PATH}</PNETCDF_PATH>
  <HDF5_PATH>$ENV{HDF5_PATH}</HDF5_PATH>
  <ZLIB_PATH>$ENV{ZLIB_PATH}</ZLIB_PATH>
</compiler>

<compiler MACH="anvil" COMPILER="gnu">
  <CPPDEFS>
    <append COMP_NAME="gptl"> -DHAVE_NANOTIME -DBIT64 -DHAVE_SLASHPROC -DHAVE_GETTIMEOFDAY  </append>
  </CPPDEFS>
  <PIO_FILESYSTEM_HINTS>gpfs </PIO_FILESYSTEM_HINTS>
  <SLIBS>
    <append>$SHELL{$ENV{NETCDF_FORTRAN_PATH}/bin/nf-config --flibs}  -L$ENV{MKLROOT}/lib/intel64 -Wl,--no-as-needed -lmkl_intel_lp64 -lmkl_intel_thread -lmkl_core -liomp5 -lpthread -lm -ldl </append>
    <append> $SHELL{$ENV{NETCDF_C_PATH}/bin/nc-config --libs} </append>
  </SLIBS>
  <CXX_LIBS>
    <base>-lstdc++</base>
  </CXX_LIBS>
  <NETCDF_C_PATH>$ENV{NETCDF_C_PATH}</NETCDF_C_PATH>
  <NETCDF_FORTRAN_PATH>$ENV{NETCDF_FORTRAN_PATH}</NETCDF_FORTRAN_PATH>
  <PNETCDF_PATH>$ENV{PNETCDF_PATH}</PNETCDF_PATH>
</compiler>


<compiler COMPILER="gnu" MACH="eddi">
  <SUPPORTS_CXX>TRUE</SUPPORTS_CXX>
  <CPPDEFS>
    <append COMP_NAME="gptl"> -DHAVE_VPRINTF -DHAVE_GETTIMEOFDAY -DHAVE_BACKTRACE </append>
  </CPPDEFS>
  <NETCDF_PATH>$ENV{NETCDF_HOME}</NETCDF_PATH>
  <FFLAGS>
    <append DEBUG="FALSE">-fno-unsafe-math-optimizations</append>
    <append DEBUG="TRUE"> -g -fbacktrace -fbounds-check -ffpe-trap=invalid,zero,overflow</append>
  </FFLAGS>
  <SLIBS>
    <append> -L$ENV{NETCDF_HOME}/lib/ -lnetcdff -lnetcdf -lcurl -llapack -lblas </append>
  </SLIBS>  
  <SCC MPILIB="mpi-serial">gcc</SCC>
  <SFC MPILIB="mpi-serial">gfortran</SFC>
</compiler>

<compiler MACH="anvil" COMPILER="intel">
  <CFLAGS>
    <append compile_threaded="TRUE"> -static-intel</append>
    <append compile_threaded="TRUE" DEBUG="TRUE">-heap-arrays</append>
  </CFLAGS>
  <CPPDEFS>
    <append COMP_NAME="gptl"> -DHAVE_SLASHPROC </append>
  </CPPDEFS>
  <FFLAGS>
    <append DEBUG="FALSE"> -O2 -debug minimal -qno-opt-dynamic-align</append>
    <append> $SHELL{$ENV{NETCDF_FORTRAN_PATH}/bin/nf-config --fflags} </append>
    <append compile_threaded="TRUE"> -static-intel</append>
    <append compile_threaded="TRUE" DEBUG="TRUE">-heap-arrays</append>
  </FFLAGS>
  <FFLAGS_NOOPT>
    <append compile_threaded="TRUE"> -static-intel</append>
  </FFLAGS_NOOPT>
  <LDFLAGS>
    <append compile_threaded="TRUE"> -static-intel</append>
  </LDFLAGS>
  <MPICC  MPILIB="impi"> mpiicc  </MPICC>
  <MPICXX MPILIB="impi"> mpiicpc </MPICXX>
  <MPIFC  MPILIB="impi"> mpiifort </MPIFC>
  <PIO_FILESYSTEM_HINTS>gpfs </PIO_FILESYSTEM_HINTS>
  <SLIBS>
    <append> $SHELL{$ENV{NETCDF_FORTRAN_PATH}/bin/nf-config --flibs} </append>
    <append> $SHELL{$ENV{NETCDF_C_PATH}/bin/nc-config --libs} </append>
    <append>-Wl,--start-group $ENV{MKLROOT}/lib/intel64/libmkl_intel_lp64.a $ENV{MKLROOT}/lib/intel64/libmkl_sequential.a $ENV{MKLROOT}/lib/intel64/libmkl_core.a -Wl,--end-group -lpthread -lm -ldl</append>
  </SLIBS>
  <NETCDF_C_PATH>$ENV{NETCDF_C_PATH}</NETCDF_C_PATH>
  <NETCDF_FORTRAN_PATH>$ENV{NETCDF_FORTRAN_PATH}</NETCDF_FORTRAN_PATH>
  <PNETCDF_PATH>$ENV{PNETCDF_PATH}</PNETCDF_PATH>
</compiler>

<compiler MACH="chrysalis" COMPILER="intel">
  <CPPDEFS>
    <append COMP_NAME="gptl">-DHAVE_SLASHPROC</append>
  </CPPDEFS>
  <CFLAGS>
    <append>-static-intel</append>
    <append> -march=core-avx2 </append>
    <append DEBUG="FALSE"> -O3 </append>
  </CFLAGS>
  <CXXFLAGS>
    <append>-static-intel</append>
    <append> -axCORE-AVX2 </append>
    <append DEBUG="FALSE"> -O3 </append>
  </CXXFLAGS>
  <FFLAGS>
    <append>-static-intel</append>
    <append> -axCORE-AVX2 </append>
    <append DEBUG="FALSE">-O3 -qno-opt-dynamic-align</append>
  </FFLAGS>
  <PIO_FILESYSTEM_HINTS>gpfs</PIO_FILESYSTEM_HINTS>
  <SLIBS>
    <append>$SHELL{$ENV{NETCDF_FORTRAN_PATH}/bin/nf-config --flibs} $SHELL{$ENV{NETCDF_C_PATH}/bin/nc-config --libs} -mkl</append>
  </SLIBS>
  <NETCDF_C_PATH>$ENV{NETCDF_C_PATH}</NETCDF_C_PATH>
  <NETCDF_FORTRAN_PATH>$ENV{NETCDF_FORTRAN_PATH}</NETCDF_FORTRAN_PATH>
  <PNETCDF_PATH>$ENV{PNETCDF_PATH}</PNETCDF_PATH>
  <LDFLAGS>
    <append>-static-intel </append>
  </LDFLAGS>
  <MPICC  MPILIB="impi"> mpiicc  </MPICC>
  <MPICXX MPILIB="impi"> mpiicpc </MPICXX>
  <MPIFC  MPILIB="impi"> mpiifort </MPIFC>
</compiler>

<compiler MACH="chrysalis" COMPILER="gnu">
  <CPPDEFS>
    <append COMP_NAME="gptl"> -DHAVE_NANOTIME -DBIT64 -DHAVE_SLASHPROC -DHAVE_GETTIMEOFDAY  </append>
  </CPPDEFS>
  <PIO_FILESYSTEM_HINTS>gpfs </PIO_FILESYSTEM_HINTS>
  <SLIBS>
    <append>$SHELL{$ENV{NETCDF_FORTRAN_PATH}/bin/nf-config --flibs} $SHELL{$ENV{NETCDF_C_PATH}/bin/nc-config --libs}</append>
    <append>-Wl,--start-group $ENV{MKLROOT}/lib/intel64/libmkl_gf_lp64.a $ENV{MKLROOT}/lib/intel64/libmkl_sequential.a $ENV{MKLROOT}/lib/intel64/libmkl_core.a -Wl,--end-group -lpthread -lm -ldl</append>
  </SLIBS>
  <CXX_LIBS>
    <base>-lstdc++</base>
  </CXX_LIBS>
  <NETCDF_C_PATH>$ENV{NETCDF_C_PATH}</NETCDF_C_PATH>
  <NETCDF_FORTRAN_PATH>$ENV{NETCDF_FORTRAN_PATH}</NETCDF_FORTRAN_PATH>
  <PNETCDF_PATH>$ENV{PNETCDF_PATH}</PNETCDF_PATH>
</compiler>

<compiler MACH="bebop" COMPILER="intel">
  <ALBANY_PATH>/soft/climate/AlbanyTrilinos_06262017/Albany/buildintel/install</ALBANY_PATH>
  <CPPDEFS>
    <append COMP_NAME="gptl"> -DHAVE_SLASHPROC </append>
  </CPPDEFS>
  <CXX_LIBS>
    <base>-lstdc++</base>
  </CXX_LIBS>
  <FFLAGS>
    <append DEBUG="FALSE"> -O2 -debug minimal -qno-opt-dynamic-align</append>
  </FFLAGS>
  <MPICC  MPILIB="impi"> mpiicc  </MPICC>
  <MPICXX MPILIB="impi"> mpiicpc </MPICXX>
  <MPIFC  MPILIB="impi"> mpiifort </MPIFC>
  <SLIBS>
    <append>$SHELL{nf-config --flibs} -mkl</append>
  </SLIBS>
  <NETCDF_C_PATH>$ENV{NETCDF_C_PATH}</NETCDF_C_PATH>
  <NETCDF_FORTRAN_PATH>$ENV{NETCDF_FORTRAN_PATH}</NETCDF_FORTRAN_PATH>
  <PNETCDF_PATH>$ENV{PNETCDF_PATH}</PNETCDF_PATH>
</compiler>

<compiler MACH="bebop" COMPILER="gnu">
  <CPPDEFS>
    <append COMP_NAME="gptl"> -DHAVE_SLASHPROC </append>
  </CPPDEFS>
  <CXX_LIBS>
    <base>-lstdc++</base>
  </CXX_LIBS>
  <SLIBS>
    <append>$SHELL{$ENV{NETCDF_FORTRAN_PATH}/bin/nf-config --flibs} $SHELL{$ENV{NETCDF_C_PATH}/bin/nc-config --libs}</append>
    <append>-L$ENV{MKLROOT}/lib/intel64 -Wl,--no-as-needed -lmkl_gf_lp64 -lmkl_sequential -lmkl_core -lpthread -lm -ldl</append>
  </SLIBS>
  <NETCDF_C_PATH>$ENV{NETCDF_C_PATH}</NETCDF_C_PATH>
  <NETCDF_FORTRAN_PATH>$ENV{NETCDF_FORTRAN_PATH}</NETCDF_FORTRAN_PATH>
  <PNETCDF_PATH>$ENV{PNETCDF_PATH}</PNETCDF_PATH>
</compiler>

<compiler MACH="blues" COMPILER="pgigpu">
  <CPPDEFS>
    <append COMP_NAME="gptl"> -DHAVE_NANOTIME -DBIT64 -DHAVE_SLASHPROC -DHAVE_GETTIMEOFDAY</append>
  </CPPDEFS>
  <PIO_FILESYSTEM_HINTS>gpfs </PIO_FILESYSTEM_HINTS>
  <CFLAGS>
    <append DEBUG="FALSE"> -O2 -Mvect=nosimd </append>
  </CFLAGS>
  <FFLAGS>
    <append DEBUG="FALSE"> -O2 -Mvect=nosimd -DSUMMITDEV_PGI </append>
  </FFLAGS>
  <LDFLAGS>
    <append> -Minline -ta=tesla:ccall,fastmath,loadcache:L1,unroll,fma,managed,deepcopy,nonvvm -Mcuda -Minfo=accel </append>
  </LDFLAGS>
  <SLIBS>
    <append>$SHELL{$ENV{NETCDF_FORTRAN_PATH}/bin/nf-config --flibs} -llapack -lblas </append>
    <append>$SHELL{$ENV{NETCDF_C_PATH}/bin/nc-config --libs} </append>
  </SLIBS>
  <SUPPORTS_CXX>TRUE</SUPPORTS_CXX>
  <CXX_LINKER>FORTRAN</CXX_LINKER>
  <CXX_LIBS>
    <base>-lstdc++</base>
  </CXX_LIBS>
  <NETCDF_C_PATH>$ENV{NETCDF_C_PATH}</NETCDF_C_PATH>
  <NETCDF_FORTRAN_PATH>$ENV{NETCDF_FORTRAN_PATH}</NETCDF_FORTRAN_PATH>
  <PNETCDF_PATH>$ENV{PNETCDF_PATH}</PNETCDF_PATH>
</compiler>

<compiler MACH="swing" COMPILER="pgigpu">
  <CPPDEFS>
    <append COMP_NAME="gptl"> -DHAVE_NANOTIME -DBIT64 -DHAVE_SLASHPROC -DHAVE_GETTIMEOFDAY</append>
  </CPPDEFS>
  <PIO_FILESYSTEM_HINTS>gpfs </PIO_FILESYSTEM_HINTS>
  <CFLAGS>
    <append DEBUG="FALSE"> -O2 -Mvect=nosimd </append>
  </CFLAGS>
  <FFLAGS>
    <append DEBUG="FALSE"> -O2 -Mvect=nosimd -DSUMMITDEV_PGI </append>
  </FFLAGS>
  <LDFLAGS>
    <append> -Minline -ta=tesla:ccall,fastmath,loadcache:L1,unroll,fma,managed,deepcopy,nonvvm -Mcuda -Minfo=accel </append>
  </LDFLAGS>
  <SLIBS>
    <append>$SHELL{$ENV{NETCDF_FORTRAN_PATH}/bin/nf-config --flibs} -llapack -lblas</append>
    <append>$SHELL{$ENV{NETCDF_C_PATH}/bin/nc-config --libs} </append>
  </SLIBS>
  <SUPPORTS_CXX>TRUE</SUPPORTS_CXX>
  <CXX_LINKER>FORTRAN</CXX_LINKER>
  <CXX_LIBS>
    <base>-lstdc++</base>
  </CXX_LIBS>
  <NETCDF_C_PATH>$ENV{NETCDF_C_PATH}</NETCDF_C_PATH>
  <NETCDF_FORTRAN_PATH>$ENV{NETCDF_FORTRAN_PATH}</NETCDF_FORTRAN_PATH>
  <PNETCDF_PATH>$ENV{PNETCDF_PATH}</PNETCDF_PATH>
</compiler>

<compiler MACH="wsl" COMPILER="gnu">
  <CFLAGS>
  </CFLAGS>
  <CMAKE_OPTS>
  </CMAKE_OPTS>
  <CPPDEFS>
  </CPPDEFS>
  <CXX_LINKER>CXX</CXX_LINKER>
  <FC_AUTO_R8>
     <base> -fdefault-real-8 </base>
  </FC_AUTO_R8>
  <FFLAGS>
     <!-- -ffree-line-length-none and -ffixed-line-length-none need to be in FFLAGS rather than in FIXEDFLAGS/FREEFLAGS
           so that these are passed to cmake builds (cmake builds don't use FIXEDFLAGS and FREEFLAGS). -->
     <base> -O -fconvert=big-endian -ffree-line-length-none -ffixed-line-length-none -fno-range-check</base>
  </FFLAGS>
  <FIXEDFLAGS>
    <base>  -ffixed-form </base>
  </FIXEDFLAGS>
  <FREEFLAGS>
    <base> -ffree-form </base>
  </FREEFLAGS>
  <HDF5_PATH>$ENV{HDF5_PATH}</HDF5_PATH>
  <NETCDF_PATH>$ENV{NETCDF_PATH}</NETCDF_PATH>
  <PNETCDF_PATH></PNETCDF_PATH>
  <LAPACK_LIBDIR>$ENV{BLASLAPACK_LIBDIR}</LAPACK_LIBDIR>
  <LDFLAGS>
  </LDFLAGS>
  <SLIBS>
    <append> -L$NETCDF_PATH/lib -Wl,-rpath=$NETCDF_PATH/lib -lnetcdff -lnetcdf </append>
    <append> -L$LAPACK_LIBDIR -lblas -llapack </append>	
  </SLIBS>
  <MPICC>mpicc</MPICC>
  <MPICXX>mpic++</MPICXX>
  <MPIFC>mpif90</MPIFC>
  <SCC>gcc</SCC>
  <SCXX>g++</SCXX>
  <SFC>gfortran</SFC>
  <SUPPORTS_CXX>TRUE</SUPPORTS_CXX>
</compiler>

<compiler MACH="cades" COMPILER="gnu">
  <CXX_LINKER>CXX</CXX_LINKER> <!-- for PIO2, it must be CXX; for PIO1, it shall be FORTRAN -->
  <FC_AUTO_R8>
    <base> -fdefault-real-8 </base>
  </FC_AUTO_R8>
  <FFLAGS>
    <!-- -ffree-line-length-none and -ffixed-line-length-none need to be in FFLAGS rather than in FIXEDFLAGS/FREEFLAGS
                                 so that these are passed to cmake builds (cmake builds don't use FIXEDFLAGS and FREEFLAGS). -->
    <base> -O -fconvert=big-endian -ffree-line-length-none -ffixed-line-length-none -fno-range-check</base>
  </FFLAGS>
  <FIXEDFLAGS>
    <base>  -ffixed-form </base>
  </FIXEDFLAGS>
  <FREEFLAGS>
    <base> -ffree-form </base>
  </FREEFLAGS>
  <HDF5_PATH>$ENV{HDF5_PATH}</HDF5_PATH>
  <NETCDF_PATH>$ENV{NETCDF_PATH}</NETCDF_PATH>
  <NETCDF_C_PATH>$ENV{NETCDF_PATH}</NETCDF_C_PATH>
  <NETCDF_FORTRAN_PATH>$ENV{NETCDF_PATH}</NETCDF_FORTRAN_PATH>
  <PNETCDF_PATH>$ENV{PNETCDF_PATH}</PNETCDF_PATH>
  <LAPACK_LIBDIR>$ENV{BLASLAPACK_LIBDIR}</LAPACK_LIBDIR>
  <SLIBS>
    <!-- it's weired that AMANZI-TPLS installed libnetcdff.* (fortran) in different directory-->
    <append MPILIB="openmpi3"> -L$NETCDF_FORTRAN_PATH/lib64 -Wl,-rpath=$NETCDF_FORTRAN_PATH/lib64 -lnetcdff </append>
    <append MPILIB="openmpi"> -L$NETCDF_FORTRAN_PATH/lib -Wl,-rpath=$NETCDF_FORTRAN_PATH/lib -lnetcdff </append>
    <append MPILIB="!mpi-serial"> -L$NETCDF_C_PATH/lib -Wl,-rpath=$NETCDF_C_PATH/lib -lnetcdf </append>
    <append MPILIB="mpi-serial"> -L$ENV{NETCDF_PATH}/lib -Wl,-rpath=$ENV{NETCDF_PATH}/lib -lnetcdff -lnetcdf </append>
  </SLIBS>
  <MPICC>mpicc</MPICC>
  <MPICXX>mpic++</MPICXX>
  <MPIFC>mpif90</MPIFC>
  <SCC>gcc</SCC>
  <SCXX>g++</SCXX>
  <SFC>gfortran</SFC>
  <SUPPORTS_CXX>TRUE</SUPPORTS_CXX>
</compiler>

<compiler MACH="cascade" COMPILER="intel">
  <CONFIG_ARGS>
    <base> --enable-filesystem-hints=lustre</base>
  </CONFIG_ARGS>
  <CPPDEFS>
    <append> -DLINUX </append>
  </CPPDEFS>
  <FFLAGS>
    <append DEBUG="TRUE"> -g -traceback  -O0 -fpe0 -check  all -check noarg_temp_created -ftrapuv </append>
  </FFLAGS>
  <NETCDF_PATH> $ENV{NETCDF_HOME}</NETCDF_PATH>
  <PIO_FILESYSTEM_HINTS>lustre</PIO_FILESYSTEM_HINTS>
  <PNETCDF_PATH>$ENV{PNETCDFROOT}</PNETCDF_PATH>
  <SLIBS>
    <base> -L$NETCDF_PATH/lib -lnetcdf -lnetcdff -L$ENV{MKL_PATH}/lib/intel64 -lmkl_rt </base>
    <append MPILIB="mpich2"> -mkl=cluster </append>
    <append MPILIB="mpi-serial"> -mkl </append>
  </SLIBS>
</compiler>

<compiler MACH="cascade" COMPILER="nag">
  <CPPDEFS>
    <append> -DnoI8 </append>
  </CPPDEFS>
  <FFLAGS>
    <append DEBUG="TRUE">  -C=all  -g  -O0 -v  </append>
    <append DEBUG="TRUE" COMP_NAME="eam">  -C=all  -g  -nan -O0 -v  </append>
  </FFLAGS>
  <MPI_PATH MPILIB="mvapich2"> $ENV{MPI_LIB}</MPI_PATH>
  <NETCDF_PATH>$ENV{NETCDF_ROOT}</NETCDF_PATH>
  <PIO_FILESYSTEM_HINTS>lustre</PIO_FILESYSTEM_HINTS>
  <PNETCDF_PATH>$ENV{PNETCDFROOT}</PNETCDF_PATH>
  <SLIBS>
    <append> -L$ENV{NETCDF_ROOT}/lib -lnetcdf -lnetcdff -L$ENV{MKL_PATH} -lmkl_rt</append>
  </SLIBS>
</compiler>

<compiler MACH="sooty" COMPILER="intel">
  <CFLAGS>
    <append DEBUG="FALSE"> -O2 </append>
  </CFLAGS>
  <CPPDEFS>
    <append> -DLINUX </append>
  </CPPDEFS>
  <FFLAGS>
    <append DEBUG="FALSE"> -O2 </append>
    <append DEBUG="TRUE"> -g -traceback  -O0 -fpe0 -check  all -check noarg_temp_created -ftrapuv -init=snan </append>
  </FFLAGS>
  <NETCDF_PATH> $ENV{NETCDF_PATH}</NETCDF_PATH>
  <PIO_FILESYSTEM_HINTS>lustre</PIO_FILESYSTEM_HINTS>
  <PNETCDF_PATH>$ENV{PNETCDFROOT}</PNETCDF_PATH>
  <SLIBS>
    <base> -L$NETCDF_PATH/lib -lnetcdf -lnetcdff -lpmi -L$ENV{MKL_PATH} -lmkl_rt</base>
  </SLIBS>
</compiler>

<compiler MACH="constance" COMPILER="intel">
  <CFLAGS>
    <append DEBUG="FALSE"> -O2 </append>
  </CFLAGS>
  <CPPDEFS>
    <append> -DLINUX </append>
  </CPPDEFS>
  <FFLAGS>
    <append DEBUG="FALSE"> -O2 </append>
    <append DEBUG="TRUE"> -g -traceback  -O0 -fpe0 -check  all -check noarg_temp_created -ftrapuv </append>
  </FFLAGS>
  <NETCDF_PATH> $ENV{NETCDF_HOME}</NETCDF_PATH>
  <PIO_FILESYSTEM_HINTS>lustre</PIO_FILESYSTEM_HINTS>
  <PNETCDF_PATH>$ENV{PNETCDFROOT}</PNETCDF_PATH>
  <SLIBS>
    <base> -L$NETCDF_PATH/lib -lnetcdf -lnetcdff -lpmi -L$ENV{MKL_PATH} -lmkl_rt</base>
  </SLIBS>
</compiler>

<compiler MACH="constance" COMPILER="nag">
  <CFLAGS>
    <append DEBUG="FALSE"> -O2 -kind=byte </append>
  </CFLAGS>
  <CPPDEFS>
    <append> -DLINUX </append>
  </CPPDEFS>
  <FFLAGS>
    <append DEBUG="FALSE"> -O2 -kind=byte </append>
    <append DEBUG="TRUE"> -C=all  -g  -O0 -v </append>
  </FFLAGS>
  <NETCDF_PATH> $ENV{NETCDF_HOME}</NETCDF_PATH>
  <PIO_FILESYSTEM_HINTS>lustre</PIO_FILESYSTEM_HINTS>
  <PNETCDF_PATH>$ENV{PNETCDFROOT}</PNETCDF_PATH>
  <SLIBS>
    <base> -L$NETCDF_PATH/lib -lnetcdf -lnetcdff -lpmi -L$ENV{MKL_PATH} -lmkl_rt</base>
  </SLIBS>
</compiler>

<compiler MACH="constance" COMPILER="pgi">
  <CFLAGS>
    <append DEBUG="FALSE"> -O2 </append>
  </CFLAGS>
  <CPPDEFS>
    <append> -DLINUX </append>
  </CPPDEFS>
  <FFLAGS>
    <append DEBUG="FALSE"> -O2 </append>
    <append DEBUG="TRUE"> -g -traceback  -O0 -fpe0 -check  all -check noarg_temp_created -ftrapuv </append>
    <append DEBUG="TRUE">-C -Mbounds -traceback -Mchkfpstk -Mchkstk -Mdalign  -Mdepchk  -Mextend -Miomutex -Mrecursive  -Ktrap=fp -O0 -g -byteswapio -Meh_frame</append>
  </FFLAGS>
  <NETCDF_PATH> $ENV{NETCDF_HOME}</NETCDF_PATH>
  <PIO_FILESYSTEM_HINTS>lustre</PIO_FILESYSTEM_HINTS>
  <PNETCDF_PATH>$ENV{PNETCDFROOT}</PNETCDF_PATH>
  <SLIBS>
    <base> -L$NETCDF_PATH/lib -lnetcdf -lnetcdff -lpmi -L$ENV{MPI_LIB} -lmpich</base>
  </SLIBS>
</compiler>

<compiler MACH="compy" COMPILER="intel">
  <CFLAGS>
    <append DEBUG="FALSE"> -O2 </append>
    <append COMP_NAME="gptl"> -DHAVE_SLASHPROC </append>
  </CFLAGS>
  <CPPDEFS>
    <append> -DLINUX </append>
  </CPPDEFS>
  <FFLAGS>
    <append DEBUG="FALSE"> -O2 </append>
    <append DEBUG="TRUE"> -g -traceback  -O0 -fpe0 -check  all -check noarg_temp_created -ftrapuv -init=snan</append>
  </FFLAGS>
  <NETCDF_PATH>$ENV{NETCDF_HOME}</NETCDF_PATH>
  <PNETCDF_PATH>$ENV{PNETCDF_HOME}</PNETCDF_PATH>
  <PIO_FILESYSTEM_HINTS>lustre</PIO_FILESYSTEM_HINTS>
  <SLIBS>
    <base> -lpmi -L$NETCDF_PATH/lib -lnetcdf -lnetcdff -L$ENV{MKL_PATH}/lib/intel64/ -lmkl_rt $ENV{PNETCDF_LIBRARIES}</base>
  </SLIBS>
  <MPICC  MPILIB="impi">mpiicc</MPICC>
  <MPICXX MPILIB="impi">mpiicpc</MPICXX>
  <MPIFC  MPILIB="impi">mpiifort</MPIFC>
</compiler>

<compiler MACH="compy" COMPILER="pgi">
  <CFLAGS>
    <append DEBUG="FALSE"> -O2 </append>
    <append COMP_NAME="gptl"> -DHAVE_SLASHPROC </append>
  </CFLAGS>
  <CXX_LIBS>
    <base>-lstdc++</base>
  </CXX_LIBS>
  <CXX_LINKER>FORTRAN</CXX_LINKER>
  <CPPDEFS>
    <append> -DLINUX </append>
  </CPPDEFS>
  <FFLAGS>
    <append DEBUG="FALSE"> -O2 </append>
    <append DEBUG="TRUE">-C -Mbounds -traceback -Mchkfpstk -Mchkstk -Mdalign  -Mdepchk  -Mextend -Miomutex -Mrecursive  -Ktrap=fp -O0 -g -byteswapio -Meh_frame</append>
    <append COMP_NAME="eam">-Mnovect</append>
    <append COMP_NAME="cice">-Mnovect</append>
  </FFLAGS>
  <NETCDF_PATH> $ENV{NETCDF_HOME}</NETCDF_PATH>
  <PIO_FILESYSTEM_HINTS>lustre</PIO_FILESYSTEM_HINTS>
  <PNETCDF_PATH>$ENV{PNETCDF_HOME}</PNETCDF_PATH>
  <SLIBS>
    <append> -lpmi -L$NETCDF_PATH/lib -lnetcdf -lnetcdff -L$ENV{MKL_PATH}/lib/intel64/ -lmkl_rt $ENV{PNETCDF_LIBRARIES} </append>
  </SLIBS>
  <MPICC  MPILIB="impi">mpipgcc</MPICC>
  <MPICXX MPILIB="impi">mpipgcxx</MPICXX>
  <MPIFC  MPILIB="impi">mpipgf90</MPIFC>
  <SUPPORTS_CXX>TRUE</SUPPORTS_CXX>
</compiler>

<compiler MACH="cori-haswell" COMPILER="intel">
  <ALBANY_PATH>/global/cfs/cdirs/e3sm/software/albany-trilinos/albany-install-2020-08-07</ALBANY_PATH>
  <FFLAGS>
    <base> -convert big_endian -assume byterecl -ftz -traceback -assume realloc_lhs -fp-model consistent -fimf-use-svml </base>
    <append DEBUG="FALSE"> -O2 -debug minimal -qno-opt-dynamic-align </append>
  </FFLAGS>
  <CXXFLAGS>
    <base> -std=c++14 -fp-model consistent </base>
    <append compile_threaded="TRUE"> -qopenmp </append>
    <append DEBUG="TRUE"> -O0 -g </append>
    <append DEBUG="FALSE"> -O2 </append>
  </CXXFLAGS>
  <PETSC_PATH>$ENV{PETSC_DIR}</PETSC_PATH>
  <SCC> icc </SCC>
  <SCXX> icpc </SCXX>
  <SFC> ifort </SFC>
  <SLIBS>
    <append> -L$ENV{NETCDF_DIR} -lnetcdff -Wl,--as-needed,-L$ENV{NETCDF_DIR}/lib -lnetcdff -lnetcdf </append>
    <append> -mkl -lpthread </append>
  </SLIBS>
</compiler>

<compiler MACH="cori-haswell" COMPILER="gnu">
  <CFLAGS>
    <append DEBUG="FALSE"> -O2 </append>
  </CFLAGS>
  <FFLAGS>
    <append DEBUG="FALSE"> -O2 </append>
  </FFLAGS>
  <CXX_LIBS>
    <base>-lstdc++</base>
  </CXX_LIBS>
</compiler>

<compiler MACH="cori-knl" COMPILER="intel">
  <ALBANY_PATH>/global/homes/m/mperego/e3sm-software/albany-trilinos/albany-install-2021-01-05</ALBANY_PATH>
  <CONFIG_ARGS>
    <base> --host=cray </base>
  </CONFIG_ARGS>
  <CFLAGS>
    <append MPILIB="impi"> -axMIC-AVX512 -xCORE-AVX2 </append>
  </CFLAGS>
  <CPPDEFS>
    <append> -DARCH_MIC_KNL </append>
  </CPPDEFS>
  <FFLAGS>
    <base> -convert big_endian -assume byterecl -ftz -traceback -assume realloc_lhs -fp-model consistent -fimf-use-svml </base>
    <append DEBUG="FALSE"> -O2 -debug minimal -qno-opt-dynamic-align</append>
    <append MPILIB="impi"> -xMIC-AVX512 </append>
    <append> -DHAVE_ERF_INTRINSICS </append>
  </FFLAGS>
  <CXXFLAGS>
    <base> -std=c++14 -fp-model consistent </base>
    <append compile_threaded="TRUE"> -qopenmp </append>
    <append DEBUG="TRUE"> -O0 -g </append>
    <append DEBUG="FALSE"> -O2 </append>
  </CXXFLAGS>
  <MPICC MPILIB="impi"> mpiicc </MPICC>
  <MPICXX MPILIB="impi"> mpiicpc </MPICXX>
  <MPIFC MPILIB="impi"> mpiifort </MPIFC>
  <!-- When using Intel MPI, can't use the Cray compiler wrappers. -->
  <MPI_LIB_NAME MPILIB="impi">impi</MPI_LIB_NAME>
  <PETSC_PATH>$ENV{PETSC_DIR}</PETSC_PATH>
  <SCC> icc </SCC>
  <SCXX> icpc </SCXX>
  <SFC> ifort </SFC>
  <SLIBS>
    <append> -L$ENV{NETCDF_DIR} -lnetcdff -Wl,--as-needed,-L$ENV{NETCDF_DIR}/lib -lnetcdff -lnetcdf </append>
    <append> -mkl -lpthread </append>
  </SLIBS>
</compiler>

<compiler MACH="cori-knl" COMPILER="gnu">
  <CFLAGS>
    <append DEBUG="FALSE"> -O2 </append>
  </CFLAGS>
  <FFLAGS>
    <append DEBUG="FALSE"> -O2 </append>
  </FFLAGS>
  <CXX_LIBS>
    <base>-lstdc++</base>
  </CXX_LIBS>
</compiler>

<compiler MACH="perlmutter" COMPILER="gnu">
  <CONFIG_ARGS>
    <base> --host=cray </base>
  </CONFIG_ARGS>
  <CPPDEFS>
    <append COMP_NAME="gptl"> -DHAVE_NANOTIME -DBIT64 -DHAVE_SLASHPROC -DHAVE_GETTIMEOFDAY </append>
  </CPPDEFS>
  <SLIBS>
    <append> -L$ENV{CRAY_HDF5_PARALLEL_PREFIX}/lib -lhdf5_hl -lhdf5 -L$ENV{CRAY_NETCDF_HDF5PARALLEL_PREFIX} -L$ENV{CRAY_PARALLEL_NETCDF_PREFIX}/lib -lpnetcdf -lnetcdf -lnetcdff </append>
    <append> -lblas -llapack </append>
  </SLIBS>
  <CXX_LINKER>FORTRAN</CXX_LINKER>
  <NETCDF_PATH>$ENV{CRAY_NETCDF_HDF5PARALLEL_PREFIX}</NETCDF_PATH>
  <NETCDF_C_PATH>$ENV{CRAY_NETCDF_HDF5PARALLEL_PREFIX}</NETCDF_C_PATH>
  <NETCDF_FORTRAN_PATH>$ENV{CRAY_NETCDF_HDF5PARALLEL_PREFIX}</NETCDF_FORTRAN_PATH>
  <HDF5_PATH>$ENV{CRAY_HDF5_PARALLEL_PREFIX}</HDF5_PATH>
  <PNETCDF_PATH>$ENV{CRAY_PARALLEL_NETCDF_PREFIX}</PNETCDF_PATH>
  <CFLAGS>
    <append DEBUG="FALSE"> -O2 -g </append>
  </CFLAGS>
  <FFLAGS>
    <append DEBUG="FALSE"> -O2 -g </append>
  </FFLAGS>
  <CXX_LIBS>
    <base>-lstdc++</base>
  </CXX_LIBS>
  <MPICC> cc </MPICC>
  <MPICXX> CC </MPICXX>
  <MPIFC> ftn </MPIFC>
  <SCC> gcc </SCC>
  <SCXX> g++ </SCXX>
  <SFC> gfortran </SFC>
</compiler>

<compiler MACH="perlmutter" COMPILER="gnugpu">
  <CONFIG_ARGS>
    <base> --host=cray </base>
  </CONFIG_ARGS>
  <USE_CUDA>TRUE</USE_CUDA>
  <CPPDEFS>
    <append> -DGPU </append>
    <append COMP_NAME="gptl"> -DHAVE_NANOTIME -DBIT64 -DHAVE_SLASHPROC -DHAVE_GETTIMEOFDAY </append>
    <append> -DTHRUST_IGNORE_CUB_VERSION_CHECK </append>
  </CPPDEFS>
  <SLIBS>
    <append> -L$ENV{CRAY_HDF5_PARALLEL_PREFIX}/lib -lhdf5_hl -lhdf5 -L$ENV{CRAY_NETCDF_HDF5PARALLEL_PREFIX} -L$ENV{CRAY_PARALLEL_NETCDF_PREFIX}/lib -lpnetcdf -lnetcdf -lnetcdff </append>
    <append> -lblas -llapack </append>
  </SLIBS>
  <CXX_LINKER>FORTRAN</CXX_LINKER>
  <NETCDF_PATH>$ENV{CRAY_NETCDF_HDF5PARALLEL_PREFIX}</NETCDF_PATH>
  <NETCDF_C_PATH>$ENV{CRAY_NETCDF_HDF5PARALLEL_PREFIX}</NETCDF_C_PATH>
  <NETCDF_FORTRAN_PATH>$ENV{CRAY_NETCDF_HDF5PARALLEL_PREFIX}</NETCDF_FORTRAN_PATH>
  <HDF5_PATH>$ENV{CRAY_HDF5_PARALLEL_PREFIX}</HDF5_PATH>
  <PNETCDF_PATH>$ENV{CRAY_PARALLEL_NETCDF_PREFIX}</PNETCDF_PATH>
  <CUDA_FLAGS>
    <append> -ccbin CC -O2 -arch sm_80 --use_fast_math </append>
  </CUDA_FLAGS>
  <CFLAGS>
    <append DEBUG="FALSE"> -O2 </append>
  </CFLAGS>
  <FFLAGS>
    <append DEBUG="FALSE"> -O2 </append>
  </FFLAGS>
  <CXX_LIBS>
    <base>-lstdc++</base>
  </CXX_LIBS>
  <MPICC> cc </MPICC>
  <MPICXX> CC </MPICXX>
  <MPIFC> ftn </MPIFC>
  <SCC> cc </SCC>
  <SCXX> CC </SCXX>
  <SFC> ftn </SFC>
</compiler>

<compiler MACH="perlmutter" COMPILER="nvidia">
  <CONFIG_ARGS>
    <base> --host=cray </base>
  </CONFIG_ARGS>
  <CPPDEFS>
    <append COMP_NAME="gptl"> -DHAVE_NANOTIME -DBIT64 -DHAVE_SLASHPROC -DHAVE_GETTIMEOFDAY </append>
  </CPPDEFS>
  <SLIBS>
    <append> -L$ENV{CRAY_HDF5_PARALLEL_PREFIX}/lib -lhdf5_hl -lhdf5 -L$ENV{CRAY_NETCDF_HDF5PARALLEL_PREFIX} -L$ENV{CRAY_PARALLEL_NETCDF_PREFIX}/lib -lpnetcdf -lnetcdf -lnetcdff </append>
    <append> -lblas -llapack </append>
  </SLIBS>
  <CXX_LINKER>FORTRAN</CXX_LINKER>
  <NETCDF_PATH>$ENV{CRAY_NETCDF_HDF5PARALLEL_PREFIX}</NETCDF_PATH>
  <NETCDF_C_PATH>$ENV{CRAY_NETCDF_HDF5PARALLEL_PREFIX}</NETCDF_C_PATH>
  <NETCDF_FORTRAN_PATH>$ENV{CRAY_NETCDF_HDF5PARALLEL_PREFIX}</NETCDF_FORTRAN_PATH>
  <HDF5_PATH>$ENV{CRAY_HDF5_PARALLEL_PREFIX}</HDF5_PATH>
  <PNETCDF_PATH>$ENV{CRAY_PARALLEL_NETCDF_PREFIX}</PNETCDF_PATH>
  <CFLAGS>
    <append DEBUG="FALSE"> -O2 </append>
  </CFLAGS>
  <CXXFLAGS>
    <append DEBUG="FALSE"> -O2 </append>
  </CXXFLAGS>
  <FFLAGS>
    <append DEBUG="FALSE"> -O2 </append>
  </FFLAGS>
  <MPICC> cc </MPICC>
  <MPICXX> CC </MPICXX>
  <MPIFC> ftn </MPIFC>
  <SCC> cc </SCC>
  <SCXX> CC </SCXX>
  <SFC> ftn </SFC>
</compiler>

<compiler MACH="perlmutter" COMPILER="nvidiagpu">
  <CONFIG_ARGS>
    <base> --host=cray </base>
  </CONFIG_ARGS>
  <USE_CUDA>TRUE</USE_CUDA>
  <CPPDEFS>
    <append> -DGPU </append>
    <append COMP_NAME="gptl"> -DHAVE_NANOTIME -DBIT64 -DHAVE_SLASHPROC -DHAVE_GETTIMEOFDAY </append>
    <append> -DTHRUST_IGNORE_CUB_VERSION_CHECK </append>
  </CPPDEFS>
  <CUDA_FLAGS>
    <append> -ccbin CC -O2 -arch sm_80 --use_fast_math </append>
  </CUDA_FLAGS>
  <SLIBS>
    <append> -L$ENV{CRAY_HDF5_PARALLEL_PREFIX}/lib -lhdf5_hl -lhdf5 -L$ENV{CRAY_NETCDF_HDF5PARALLEL_PREFIX} -L$ENV{CRAY_PARALLEL_NETCDF_PREFIX}/lib -lpnetcdf -lnetcdf -lnetcdff </append>
    <append> -lblas -llapack </append>
  </SLIBS>
  <CXX_LINKER>FORTRAN</CXX_LINKER>
  <NETCDF_PATH>$ENV{CRAY_PARALLEL_NETCDF_PREFIX}</NETCDF_PATH>
  <NETCDF_C_PATH>$ENV{CRAY_PARALLEL_NETCDF_PREFIX}</NETCDF_C_PATH>
  <NETCDF_FORTRAN_PATH>$ENV{CRAY_PARALLEL_NETCDF_PREFIX}</NETCDF_FORTRAN_PATH>
  <HDF5_PATH>$ENV{CRAY_HDF5_PARALLEL_PREFIX}</HDF5_PATH>
  <PNETCDF_PATH>$ENV{CRAY_PARALLEL_NETCDF_PREFIX}</PNETCDF_PATH>
  <SCC> cc </SCC>
  <SCXX> CC </SCXX>
  <SFC> ftn </SFC>
</compiler>

<compiler MACH="ghost" COMPILER="intel">
  <ALBANY_PATH>/projects/ccsm/AlbanyTrilinos_20190904/albany-build/install</ALBANY_PATH>
  <CFLAGS>
    <append DEBUG="FALSE"> -O2  </append>
  </CFLAGS>
  <ESMF_LIBDIR>/projects/ccsm/esmf-6.3.0rp1/lib/libO/Linux.intel.64.openmpi.default</ESMF_LIBDIR>
  <FFLAGS>
    <append DEBUG="FALSE"> -O2  </append>
  </FFLAGS>
  <MPI_PATH MPILIB="openmpi">/opt/openmpi-1.8-intel</MPI_PATH>
  <NETCDF_PATH>$ENV{NETCDFROOT}</NETCDF_PATH>
  <PFUNIT_PATH MPILIB="mpi-serial" compile_threaded="FALSE">/projects/ccsm/pfunit/3.2.9/mpi-serial</PFUNIT_PATH>
  <PIO_FILESYSTEM_HINTS>lustre </PIO_FILESYSTEM_HINTS>
  <PNETCDF_PATH>$ENV{PNETCDFROOT}</PNETCDF_PATH>
  <SLIBS>
    <append>$SHELL{$NETCDF_PATH/bin/nf-config --flibs} -L/projects/ccsm/BLAS-intel -lblas_LINUX</append>
    <append MPILIB="openmpi"> -mkl=cluster </append>
    <append MPILIB="mpi-serial"> -mkl </append>
  </SLIBS>
</compiler>

<compiler MACH="itasca" COMPILER="intel">
  <CFLAGS>
    <base> -O2 -fp-model precise -I/soft/intel/x86_64/2013/composer_xe_2013/composer_xe_2013_sp1.3.174/mkl/include </base>
    <append compile_threaded="TRUE"> -openmp </append>
  </CFLAGS>
  <CPPDEFS>
    <append> -DFORTRANUNDERSCORE -DNO_R16</append>
    <append> -DCPRINTEL </append>
  </CPPDEFS>
  <CXX_LDFLAGS>
    <base> -cxxlib </base>
  </CXX_LDFLAGS>
  <CXX_LINKER>FORTRAN</CXX_LINKER>
  <FC_AUTO_R8>
    <base> -r8 </base>
  </FC_AUTO_R8>
  <FFLAGS>
    <base> -fp-model source -convert big_endian -assume byterecl -ftz -traceback -assume realloc_lhs -I/soft/intel/x86_64/2013/composer_xe_2013/composer_xe_2013_sp1.3.174/mkl/include </base>
    <append compile_threaded="TRUE"> -openmp </append>
    <append DEBUG="TRUE"> -O0 -g -check uninit -check bounds -check pointers -fpe0 </append>
    <append DEBUG="FALSE"> -O2 </append>
  </FFLAGS>
  <FIXEDFLAGS>
    <base> -fixed -132 </base>
  </FIXEDFLAGS>
  <FREEFLAGS>
    <base> -free </base>
  </FREEFLAGS>
  <LDFLAGS>
    <append compile_threaded="TRUE"> -openmp </append>
  </LDFLAGS>
  <MPICC> mpiicc  </MPICC>
  <MPICXX> mpiicpc </MPICXX>
  <MPIFC> mpiifort </MPIFC>
  <SCC> icc </SCC>
  <SCXX> icpc </SCXX>
  <SFC> ifort </SFC>
  <SLIBS>
    <append>-L/soft/netcdf/fortran-4.4-intel-sp1-update3-parallel/lib -lnetcdff -L/soft/hdf5/hdf5-1.8.13-intel-2013-sp1-update3-impi-5.0.0.028/lib -openmp -fPIC -lnetcdf -lnetcdf -L/soft/intel/x86_64/2013/composer_xe_2013/composer_xe_2013_sp1.3.174/mkl/lib/intel64 -lmkl_intel_lp64 -lmkl_core -lmkl_intel_thread -lpthread -lm </append>
  </SLIBS>
  <SUPPORTS_CXX>TRUE</SUPPORTS_CXX>
</compiler>

<compiler MACH="lawrencium-lr3" COMPILER="intel">
  <CPPDEFS>
    <append COMP_NAME="gptl"> -DHAVE_VPRINTF -DHAVE_GETTIMEOFDAY </append>
  </CPPDEFS>
  <LAPACK_LIBDIR>/global/software/sl-6.x86_64/modules/intel/2016.1.150/lapack/3.6.0-intel/lib</LAPACK_LIBDIR>
  <NETCDF_PATH>$ENV{NETCDF_DIR}</NETCDF_PATH>
  <SLIBS>
    <append> -lnetcdff -lnetcdf -mkl</append>
  </SLIBS>
</compiler>

<compiler MACH="lawrencium-lr6" COMPILER="intel">
  <CPPDEFS>
    <append COMP_NAME="gptl"> -DHAVE_VPRINTF -DHAVE_GETTIMEOFDAY </append>
  </CPPDEFS>
  <LAPACK_LIBDIR>/global/software/sl-6.x86_64/modules/intel/2016.1.150/lapack/3.6.0-intel/lib</LAPACK_LIBDIR>
  <NETCDF_PATH>$ENV{NETCDF_DIR}</NETCDF_PATH>
  <SLIBS>
    <append> -lnetcdff -lnetcdf -mkl</append>
  </SLIBS>
</compiler>

<compiler MACH="lawrencium-lr6" COMPILER="gnu">
  <LAPACK_LIBDIR>$ENV{LAPACK_DIR}/lib</LAPACK_LIBDIR>
  <CFLAGS>
    <append DEBUG="FALSE"> -O2  </append>
  </CFLAGS>
  <CXX_LIBS>
    <base>-lstdc++ -lmpi_cxx</base>
  </CXX_LIBS>
  <FFLAGS>
    <append DEBUG="FALSE"> -O2  </append>
    <append > -I$ENV{NETCDF_DIR}/include  </append>
  </FFLAGS>
  <NETCDF_PATH>$ENV{NETCDF_DIR}</NETCDF_PATH>
  <PNETCDF_PATH>$ENV{PNETCDF_DIR}</PNETCDF_PATH>
  <SLIBS>
    <append> -L/global/software/sl-7.x86_64/modules/gcc/6.3.0/netcdf/4.4.1.1-gcc-p/lib -lnetcdff -lnetcdf -lnetcdf -lblas -llapack </append>
  </SLIBS>
</compiler>

<compiler MACH="linux-generic" COMPILER="gnu">
  <NETCDF_C_PATH> $ENV{NETCDF_C_PATH}</NETCDF_C_PATH>
  <NETCDF_FORTRAN_PATH> $ENV{NETCDF_FORTRAN_PATH}</NETCDF_FORTRAN_PATH>
  <PNETCDF_PATH> $ENV{PNETCDF_PATH}</PNETCDF_PATH>
  <SLIBS>
    <append>$SHELL{$NETCDF_FORTRAN_PATH/bin/nf-config --flibs} </append>
  </SLIBS>
</compiler>

<compiler MACH="singularity" COMPILER="gnu">
  <HDF5_PATH> $ENV{HDF5_PATH}</HDF5_PATH>
  <NETCDF_PATH> $ENV{NETCDF_PATH}</NETCDF_PATH>
  <PNETCDF_PATH> $ENV{PNETCDF_PATH}</PNETCDF_PATH>
  <SLIBS>
    <append>$SHELL{$NETCDF_PATH/bin/nf-config --flibs} -lblas -llapack </append>
  </SLIBS>
</compiler>

<compiler MACH="mac" COMPILER="gnu">
  <LDFLAGS>
    <append>-framework Accelerate</append>
  </LDFLAGS>
  <NETCDF_PATH> $ENV{NETCDF_PATH}</NETCDF_PATH>
  <SLIBS>
    <append>-L${NETCDF_PATH}/lib -lnetcdff -lnetcdf</append>
  </SLIBS>
</compiler>

<compiler MACH="melvin" COMPILER="gnu">
  <ALBANY_PATH>/projects/install/rhel6-x86_64/ACME/AlbanyTrilinos/Albany/build/install</ALBANY_PATH>
  <CPPDEFS>
    <append COMP_NAME="gptl"> -DHAVE_SLASHPROC </append>
  </CPPDEFS>
  <CFLAGS>
    <append DEBUG="FALSE"> -O2  </append>
  </CFLAGS>
  <CXX_LIBS>
    <base>-lstdc++</base>
  </CXX_LIBS>
  <FFLAGS>
    <append DEBUG="FALSE"> -O2  </append>
    <append > -I$ENV{NETCDFROOT}/include  </append>
  </FFLAGS>
  <NETCDF_PATH>$ENV{NETCDFROOT}</NETCDF_PATH>
  <PFUNIT_PATH MPILIB="mpi-serial" compile_threaded="FALSE">$ENV{SEMS_PFUNIT_ROOT}</PFUNIT_PATH>
  <SLIBS>
    <append>$SHELL{$NETCDF_PATH/bin/nf-config --flibs} -lblas -llapack</append>
  </SLIBS>
</compiler>

<compiler MACH="melvin" COMPILER="intel">
  <ALBANY_PATH>/projects/install/rhel6-x86_64/ACME/AlbanyTrilinos/Albany/build/install</ALBANY_PATH>
  <CPPDEFS>
    <append COMP_NAME="gptl"> -DHAVE_SLASHPROC </append>
  </CPPDEFS>
  <CFLAGS>
    <append DEBUG="FALSE"> -O2  </append>
  </CFLAGS>
  <CXX_LIBS>
    <base>-lstdc++ -lmpi_cxx</base>
  </CXX_LIBS>
  <FFLAGS>
    <append DEBUG="FALSE"> -O2  </append>
  </FFLAGS>
  <NETCDF_PATH>$ENV{NETCDFROOT}</NETCDF_PATH>
  <PNETCDF_PATH>$ENV{PNETCDFROOT}</PNETCDF_PATH>
  <SLIBS>
    <append>$SHELL{$NETCDF_PATH/bin/nf-config --flibs} -lblas -llapack</append>
  </SLIBS>
</compiler>

<compiler MACH="mappy" COMPILER="gnu">
  <ALBANY_PATH>/projects/install/rhel7-x86_64/ACME/AlbanyTrilinos/Albany/build/install</ALBANY_PATH>
  <CPPDEFS>
    <append COMP_NAME="gptl"> -DHAVE_SLASHPROC </append>
  </CPPDEFS>
  <CFLAGS>
    <append DEBUG="FALSE"> -O2  </append>
  </CFLAGS>
  <CXX_LIBS>
    <base>-lstdc++</base>
  </CXX_LIBS>
  <FFLAGS>
    <append DEBUG="FALSE"> -O2  </append>
    <append > -I$ENV{NETCDFROOT}/include  </append>
  </FFLAGS>
  <NETCDF_PATH>$ENV{NETCDFROOT}</NETCDF_PATH>
  <PFUNIT_PATH MPILIB="mpi-serial" compile_threaded="FALSE">$ENV{SEMS_PFUNIT_ROOT}</PFUNIT_PATH>
  <SLIBS>
    <append>$SHELL{$NETCDF_PATH/bin/nf-config --flibs} -lblas -llapack</append>
  </SLIBS>
</compiler>

<compiler MACH="mappy" COMPILER="intel">
  <ALBANY_PATH>/projects/install/rhel7-x86_64/ACME/AlbanyTrilinos/Albany/build/install</ALBANY_PATH>
  <CPPDEFS>
    <append COMP_NAME="gptl"> -DHAVE_SLASHPROC </append>
  </CPPDEFS>
  <CFLAGS>
    <append DEBUG="FALSE"> -O2  </append>
  </CFLAGS>
  <CXX_LIBS>
    <base>-lstdc++ -lmpi_cxx</base>
  </CXX_LIBS>
  <FFLAGS>
    <append DEBUG="FALSE"> -O2  </append>
  </FFLAGS>
  <NETCDF_PATH>$ENV{NETCDFROOT}</NETCDF_PATH>
  <PNETCDF_PATH>$ENV{PNETCDFROOT}</PNETCDF_PATH>
  <SLIBS>
    <append>$SHELL{$NETCDF_PATH/bin/nf-config --flibs} -lblas -llapack</append>
  </SLIBS>
</compiler>

<compiler MACH="snl-white" COMPILER="gnu">
  <SCXX>$ENV{E3SM_SRCROOT}/externals/kokkos/bin/nvcc_wrapper</SCXX>
  <MPICXX>$ENV{E3SM_SRCROOT}/externals/kokkos/bin/nvcc_wrapper</MPICXX>
  <KOKKOS_OPTIONS> --arch=Pascal60 --with-cuda=$ENV{CUDA_ROOT} --with-cuda-options=enable_lambda </KOKKOS_OPTIONS>
  <CXXFLAGS>
    <append>-expt-extended-lambda -DCUDA_BUILD</append>
  </CXXFLAGS>
  <NETCDF_PATH>$ENV{NETCDF_FORTRAN_PATH}</NETCDF_PATH>
  <SLIBS>
    <append>$SHELL{$NETCDF_PATH/bin/nf-config --flibs} -lblas -llapack -lcudart -lstdc++</append>
  </SLIBS>
</compiler>

<compiler MACH="snl-blake" COMPILER="intel18">
  <CPPDEFS>
    <append> -DFORTRANUNDERSCORE -DNO_R16 -DCPRINTEL </append>
  </CPPDEFS>
  <CFLAGS>
    <base> -xCORE_AVX512 -mkl -std=gnu99 </base>
    <append DEBUG="FALSE"> -O3 -g -debug minimal </append>
    <append DEBUG="TRUE"> -O0 -g </append>
  </CFLAGS>
  <CXXFLAGS>
    <base> -xCORE_AVX512 -mkl -std=c++14 </base>
    <append DEBUG="FALSE"> -O3 -g -debug minimal </append>
    <append DEBUG="TRUE"> -O0 -g </append>
    <append compile_threaded="TRUE"> -qopenmp </append>
  </CXXFLAGS>
  <FFLAGS>
    <base> -convert big_endian -assume byterecl -ftz -traceback -assume realloc_lhs -xCORE_AVX512 -mkl </base>
    <append compile_threaded="TRUE"> -qopenmp </append>
    <append DEBUG="FALSE"> -O3 -g -debug minimal </append>
    <append DEBUG="TRUE"> -O0 -g -check uninit -check bounds -check pointers -fpe0 -check noarg_temp_created </append>
  </FFLAGS>
  <LDFLAGS>
    <base> -mkl -lstdc++ </base>
    <append compile_threaded="TRUE"> -qopenmp </append>
    <append>-L$(NETCDF_FORTRAN_PATH)/lib64</append>
  </LDFLAGS>
  <FIXEDFLAGS>
    <base> -fixed -132 </base>
  </FIXEDFLAGS>
  <FREEFLAGS>
    <base> -free </base>
  </FREEFLAGS>
  <HAS_F2008_CONTIGUOUS>TRUE</HAS_F2008_CONTIGUOUS>
  <FC_AUTO_R8>
    <base> -r8 </base>
  </FC_AUTO_R8>
  <SFC> ifort </SFC>
  <SCC> icc </SCC>
  <SCXX> icpc </SCXX>
  <CXX_LINKER>FORTRAN</CXX_LINKER>
  <CXX_LDFLAGS>
    <base> -cxxlib </base>
  </CXX_LDFLAGS>
  <SUPPORTS_CXX>TRUE</SUPPORTS_CXX>
</compiler>

<compiler MACH="sandiatoss3" COMPILER="intel">
  <ALBANY_PATH>/projects/ccsm/AlbanyTrilinos_20190904/albany-build/install</ALBANY_PATH>
  <CPPDEFS>
    <append COMP_NAME="gptl"> -DHAVE_SLASHPROC </append>
  </CPPDEFS>
  <CFLAGS>
    <append DEBUG="FALSE"> -O2  </append>
  </CFLAGS>
  <ESMF_LIBDIR>/projects/ccsm/esmf-6.3.0rp1/lib/libO/Linux.intel.64.openmpi.default</ESMF_LIBDIR>
  <FFLAGS>
    <append DEBUG="FALSE"> -O2  </append>
  </FFLAGS>
  <MPI_PATH MPILIB="openmpi">$ENV{MPIHOME}</MPI_PATH>
  <NETCDF_PATH>$ENV{NETCDFROOT}</NETCDF_PATH>
  <PFUNIT_PATH MPILIB="mpi-serial" compile_threaded="FALSE">/projects/ccsm/pfunit/3.2.9/mpi-serial</PFUNIT_PATH>
  <PIO_FILESYSTEM_HINTS>lustre </PIO_FILESYSTEM_HINTS>
  <PNETCDF_PATH>$ENV{PNETCDFROOT}</PNETCDF_PATH>
  <SLIBS>
    <append>$SHELL{$NETCDF_PATH/bin/nf-config --flibs} -L/projects/ccsm/BLAS-intel -lblas_LINUX -L$ENV{MKL_LIBS} -lmkl_rt</append>
    <append MPILIB="openmpi"> -mkl=cluster </append>
    <append MPILIB="mpi-serial"> -mkl </append>
  </SLIBS>
</compiler>

<compiler MACH="stampede2" COMPILER="intel">
  <CFLAGS>
    <append> -xCORE-AVX2 </append>
  </CFLAGS>
  <CPPDEFS>
    <append> -DLINUX </append>
    <append COMP_NAME="gptl"> -DHAVE_NANOTIME -DBIT64 -DHAVE_VPRINTF -DHAVE_BACKTRACE -DHAVE_SLASHPROC -DHAVE_COMM_F2C -DHAVE_TIMES -DHAVE_GETTIMEOFDAY </append>
    <append> -DARCH_MIC_KNL </append>
  </CPPDEFS>
  <FFLAGS>
    <base> -convert big_endian -assume byterecl -ftz -traceback -assume realloc_lhs -fp-model consistent -fimf-use-svml </base>
    <append DEBUG="FALSE"> -O2 -debug minimal -qno-opt-dynamic-align</append>
    <append> -xCORE-AVX2 </append>
  </FFLAGS>
  <HDF5_PATH>$ENV{TACC_HDF5_DIR}</HDF5_PATH>
  <MPICC> mpicc </MPICC>
  <MPICXX> mpicxx </MPICXX>
  <MPIFC> mpif90 </MPIFC>
  <MPI_LIB_NAME>impi</MPI_LIB_NAME>
  <NETCDF_PATH MPILIB="impi">$ENV{TACC_NETCDF_DIR}</NETCDF_PATH>
  <NETCDF_PATH MPILIB="mpi-serial">$ENV{TACC_NETCDF_DIR}</NETCDF_PATH>
  <PETSC_PATH>$ENV{PETSC_DIR}</PETSC_PATH>
  <PNETCDF_PATH MPILIB="impi">$ENV{TACC_PNETCDF_DIR}</PNETCDF_PATH>
  <SCC> icc </SCC>
  <SCXX> icpc </SCXX>
  <SFC> ifort </SFC>
  <SLIBS>
    <append MPILIB="impi"> -L$NETCDF_PATH -lnetcdff -Wl,--as-needed,-L$NETCDF_PATH/lib -lnetcdff -lnetcdf </append>
    <append MPILIB="mpi-serial"> -L$NETCDF_PATH -lnetcdff -Wl,--as-needed,-L$NETCDF_PATH/lib -lnetcdff -lnetcdf </append>
    <append> -mkl -lpthread </append>
  </SLIBS>
</compiler>

<compiler MACH="summit" COMPILER="gnu">
  <CFLAGS>
    <append DEBUG="FALSE"> -O2  </append>
  </CFLAGS>
  <FFLAGS>
    <append DEBUG="FALSE"> -O2 </append>
  </FFLAGS>
  <CXXFLAGS>
    <append DEBUG="TRUE" > -O0 -g </append>
  </CXXFLAGS>
  <CPPDEFS>
    <append COMP_NAME="gptl"> -DHAVE_SLASHPROC </append>
  </CPPDEFS>
  <SLIBS>
    <append MPILIB="mpi-serial">-L$ENV{NETCDF_C_PATH}/lib -lnetcdf -L$ENV{NETCDF_FORTRAN_PATH}/lib -lnetcdff -L$ENV{ESSL_PATH}/lib64 -lessl -L$ENV{OLCF_NETLIB_LAPACK_ROOT}/lib -llapack</append>
    <append MPILIB="!mpi-serial"> -L$ENV{PNETCDF_PATH}/lib -lpnetcdf -L$ENV{HDF5_PATH}/lib -lhdf5_hl -lhdf5 -L$ENV{NETCDF_C_PATH}/lib -lnetcdf -L$ENV{NETCDF_FORTRAN_PATH}/lib -lnetcdff -L$ENV{ESSL_PATH}/lib64 -lessl -L$ENV{OLCF_NETLIB_LAPACK_ROOT}/lib -llapack</append>
  </SLIBS>
  <CXX_LIBS>
    <base>-lstdc++</base>
  </CXX_LIBS>
  <MPICC> mpicc </MPICC>
  <MPICXX> mpiCC </MPICXX>
  <MPIFC> mpif90 </MPIFC>
  <SCC> gcc </SCC>
  <SCXX> g++ </SCXX>
  <SFC> gfortran </SFC>
  <PIO_FILESYSTEM_HINTS>gpfs</PIO_FILESYSTEM_HINTS>
  <NETCDF_C_PATH>$ENV{NETCDF_C_PATH}</NETCDF_C_PATH>
  <NETCDF_FORTRAN_PATH>$ENV{NETCDF_FORTRAN_PATH}</NETCDF_FORTRAN_PATH>
  <PNETCDF_PATH>$ENV{PNETCDF_PATH}</PNETCDF_PATH>
  <SUPPORTS_CXX>TRUE</SUPPORTS_CXX>
</compiler>

<compiler MACH="summit" COMPILER="gnugpu">
  <CFLAGS>
    <append DEBUG="FALSE"> -O2  </append>
  </CFLAGS>
  <FFLAGS>
    <append DEBUG="FALSE"> -O2 </append>
  </FFLAGS>
  <CPPDEFS>
    <append COMP_NAME="gptl"> -DHAVE_SLASHPROC </append>
    <append > -DTHRUST_IGNORE_CUB_VERSION_CHECK </append>
  </CPPDEFS>
  <SLIBS>
    <append MPILIB="mpi-serial">-L$ENV{NETCDF_C_PATH}/lib -lnetcdf -L$ENV{NETCDF_FORTRAN_PATH}/lib -lnetcdff -L$ENV{ESSL_PATH}/lib64 -lessl -L$ENV{OLCF_NETLIB_LAPACK_ROOT}/lib -llapack</append>
    <append MPILIB="!mpi-serial"> -L$ENV{PNETCDF_PATH}/lib -lpnetcdf -L$ENV{HDF5_PATH}/lib -lhdf5_hl -lhdf5 -L$ENV{NETCDF_C_PATH}/lib -lnetcdf -L$ENV{NETCDF_FORTRAN_PATH}/lib -lnetcdff -L$ENV{ESSL_PATH}/lib64 -lessl -L$ENV{OLCF_NETLIB_LAPACK_ROOT}/lib -llapack</append>
  </SLIBS>
  <CXX_LIBS>
    <base>-lstdc++</base>
  </CXX_LIBS>
  <MPICXX> mpiCC </MPICXX>
  <!-- These are the same as the parent
  <MPICC> mpicc </MPICC>
  <MPIFC> mpif90 </MPIFC>
  <SCC> gcc </SCC>
  <SCXX> g++ </SCXX>
  <SFC> gfortran </SFC>
  -->
  <PIO_FILESYSTEM_HINTS>gpfs</PIO_FILESYSTEM_HINTS>
  <NETCDF_C_PATH>$ENV{NETCDF_C_PATH}</NETCDF_C_PATH>
  <NETCDF_FORTRAN_PATH>$ENV{NETCDF_FORTRAN_PATH}</NETCDF_FORTRAN_PATH>
  <PNETCDF_PATH>$ENV{PNETCDF_PATH}</PNETCDF_PATH>
  <SUPPORTS_CXX>TRUE</SUPPORTS_CXX>
  <CUDA_FLAGS>
    <append DEBUG="FALSE"> -O3 -arch sm_70 --use_fast_math </append>
    <append DEBUG="TRUE" > -O0 -g -arch sm_70 </append>
  </CUDA_FLAGS>
  <USE_CUDA>TRUE</USE_CUDA>
</compiler>

<compiler MACH="summit" COMPILER="ibm">
  <CPPDEFS>
    <append> -DLINUX  </append>
    <append COMP_NAME="gptl"> -DHAVE_SLASHPROC </append>
  </CPPDEFS>
  <FFLAGS>
    <append> -qzerosize -qfree=f90 -qxlf2003=polymorphic</append>
    <append> -qspillsize=2500 -qextname=flush </append>
    <append COMP_NAME="cice" compile_threaded="TRUE"> -qsmp=omp:noopt </append>
  </FFLAGS>
  <LDFLAGS>
    <append>  -Wl,--relax -Wl,--allow-multiple-definition </append>
  </LDFLAGS>
  <SLIBS>
    <append MPILIB="mpi-serial">-lxlopt -lxl -lxlsmp -L$ENV{NETCDF_C_PATH}/lib -lnetcdf -L$ENV{NETCDF_FORTRAN_PATH}/lib -lnetcdff -L$ENV{ESSL_PATH}/lib64 -lessl -L$ENV{OLCF_NETLIB_LAPACK_ROOT}/lib -llapack</append>
    <append MPILIB="!mpi-serial"> -L$ENV{PNETCDF_PATH}/lib -lpnetcdf -L$ENV{HDF5_PATH}/lib -lhdf5_hl -lhdf5 -lxlopt -lxl -lxlsmp -L$ENV{NETCDF_C_PATH}/lib -lnetcdf -L$ENV{NETCDF_FORTRAN_PATH}/lib -lnetcdff -L$ENV{ESSL_PATH}/lib64 -lessl -L$ENV{OLCF_NETLIB_LAPACK_ROOT}/lib -llapack </append>
  </SLIBS>
  <CXX_LIBS>
    <base>-L/sw/summit/gcc/8.1.1/lib64 -lstdc++ -L$ENV{OLCF_XLC_ROOT}/lib -libmc++</base>
  </CXX_LIBS>
  <MPICC> mpicc </MPICC>
  <MPICXX> mpiCC </MPICXX>
  <MPIFC> mpif90 </MPIFC>
  <PIO_FILESYSTEM_HINTS>gpfs</PIO_FILESYSTEM_HINTS>
  <SCC> xlc_r </SCC>
  <SFC> xlf90_r </SFC>
  <SCXX> xlc++_r </SCXX>
  <NETCDF_C_PATH>$ENV{NETCDF_C_PATH}</NETCDF_C_PATH>
  <NETCDF_FORTRAN_PATH>$ENV{NETCDF_FORTRAN_PATH}</NETCDF_FORTRAN_PATH>
  <PNETCDF_PATH>$ENV{PNETCDF_PATH}</PNETCDF_PATH>
  <SUPPORTS_CXX>TRUE</SUPPORTS_CXX>
  <KOKKOS_OPTIONS> --arch=Power9 --with-serial </KOKKOS_OPTIONS>
</compiler>

<compiler MACH="summit" COMPILER="ibmgpu">
  <CFLAGS>
    <base> -g -qfullpath -qmaxmem=-1 -qphsinfo </base>
    <append DEBUG="FALSE"> -O3  </append>
    <append DEBUG="FALSE" compile_threaded="TRUE"> -qsmp=omp </append>
    <append DEBUG="TRUE" compile_threaded="TRUE"> -qsmp=omp:noopt </append>
  </CFLAGS>
  <CXXFLAGS>
    <base> -g -qfullpath -qmaxmem=-1 -qphsinfo </base>
    <append DEBUG="FALSE"> -O2  </append>
    <append DEBUG="FALSE" compile_threaded="TRUE"> -qsmp=omp </append>
    <append DEBUG="TRUE" compile_threaded="TRUE"> -qsmp=omp:noopt </append>
  </CXXFLAGS>
  <CPPDEFS>
    <append> -DFORTRAN_SAME -DCPRIBM</append>
    <append COMP_NAME="eam"> -DUSE_CBOOL </append>
    <append> -DLINUX  </append>
    <append COMP_NAME="gptl"> -DHAVE_SLASHPROC </append>
  </CPPDEFS>
  <CPRE>-WF,-D</CPRE>
  <FC_AUTO_R8>
    <base> -qrealsize=8 </base>
  </FC_AUTO_R8>
  <FFLAGS>
    <base> -g -qfullpath -qmaxmem=-1 -qphsinfo </base>
    <append DEBUG="FALSE"> -O2 -qstrict -Q </append>
    <append DEBUG="FALSE" compile_threaded="TRUE"> -qsmp=omp </append>
    <append DEBUG="TRUE" compile_threaded="TRUE"> -qsmp=omp:noopt </append>
    <append> -qzerosize -qfree=f90 -qxlf2003=polymorphic</append>
    <append> -qspillsize=2500 -qextname=flush </append>
    <append COMP_NAME="cice" compile_threaded="TRUE"> -qsmp=omp:noopt </append>
  </FFLAGS>
  <FFLAGS_NOOPT>
    <base> -O0 </base>
  </FFLAGS_NOOPT>
  <FIXEDFLAGS>
    <base>  -qsuffix=f=f -qfixed=132 </base>
  </FIXEDFLAGS>
  <FREEFLAGS>
    <base> -qsuffix=f=f90:cpp=F90  </base>
  </FREEFLAGS>
  <HAS_F2008_CONTIGUOUS>TRUE</HAS_F2008_CONTIGUOUS>
  <LDFLAGS>
    <append> -Wl,--relax -Wl,--allow-multiple-definition </append>
    <append>-qsmp -qoffload -lcudart -L$ENV{CUDA_DIR}/lib64</append>
  </LDFLAGS>
  <SLIBS>
    <append MPILIB="mpi-serial">-lxlopt -lxl -lxlsmp -L$ENV{NETCDF_C_PATH}/lib -lnetcdf -L$ENV{NETCDF_FORTRAN_PATH}/lib -lnetcdff -L$ENV{ESSL_PATH}/lib64 -lessl -L$ENV{OLCF_NETLIB_LAPACK_ROOT}/lib -llapack</append>
    <append MPILIB="!mpi-serial"> -L$ENV{PNETCDF_PATH}/lib -lpnetcdf -L$ENV{HDF5_PATH}/lib -lhdf5_hl -lhdf5 -lxlopt -lxl -lxlsmp -L$ENV{NETCDF_C_PATH}/lib -lnetcdf -L$ENV{NETCDF_FORTRAN_PATH}/lib -lnetcdff -L$ENV{ESSL_PATH}/lib64 -lessl -L$ENV{OLCF_NETLIB_LAPACK_ROOT}/lib -llapack </append>
  </SLIBS>
  <CXX_LIBS>
    <base>-L/sw/summit/gcc/8.1.1/lib64 -lstdc++ -L$ENV{OLCF_XLC_ROOT}/lib -libmc++</base>
  </CXX_LIBS>
  <MPICC> mpicc </MPICC>
  <MPICXX> mpiCC </MPICXX>
  <MPIFC> mpif90 </MPIFC>
  <PIO_FILESYSTEM_HINTS>gpfs</PIO_FILESYSTEM_HINTS>
  <SCC> xlc_r </SCC>
  <SFC> xlf90_r </SFC>
  <SCXX> xlc++_r </SCXX>
  <NETCDF_C_PATH>$ENV{NETCDF_C_PATH}</NETCDF_C_PATH>
  <NETCDF_FORTRAN_PATH>$ENV{NETCDF_FORTRAN_PATH}</NETCDF_FORTRAN_PATH>
  <PNETCDF_PATH>$ENV{PNETCDF_PATH}</PNETCDF_PATH>
  <SUPPORTS_CXX>TRUE</SUPPORTS_CXX>
  <KOKKOS_OPTIONS> --arch=Power9 --with-serial </KOKKOS_OPTIONS>
</compiler>

<compiler MACH="summit" COMPILER="pgi">
  <CFLAGS>
    <append DEBUG="FALSE"> -O2 -Mvect=nosimd </append>
  </CFLAGS>
  <FFLAGS>
    <append DEBUG="FALSE"> -O2 -DSUMMITDEV_PGI </append>
  </FFLAGS>
  <CPPDEFS>
    <append COMP_NAME="gptl"> -DHAVE_SLASHPROC </append>
  </CPPDEFS>
  <SLIBS>
    <append> -L$ENV{PNETCDF_PATH}/lib -lpnetcdf -L$ENV{HDF5_PATH}/lib -lhdf5_hl -lhdf5 -L$ENV{NETCDF_C_PATH}/lib -lnetcdf -L$ENV{NETCDF_FORTRAN_PATH}/lib -lnetcdff -L$ENV{ESSL_PATH}/lib64 -lessl -L$ENV{OLCF_NETLIB_LAPACK_ROOT}/lib -llapack</append>
  </SLIBS>
  <CXX_LINKER>FORTRAN</CXX_LINKER>
  <CXX_LIBS>
    <base>-lstdc++</base>
  </CXX_LIBS>
  <MPICC> mpicc </MPICC>
  <MPICXX> mpiCC </MPICXX>
  <MPIFC> mpif90 </MPIFC>
  <PIO_FILESYSTEM_HINTS>gpfs</PIO_FILESYSTEM_HINTS>
  <SCC> pgcc </SCC>
  <SCXX> pgc++ </SCXX>
  <SFC> pgfortran </SFC>
  <NETCDF_C_PATH>$ENV{NETCDF_C_PATH}</NETCDF_C_PATH>
  <NETCDF_FORTRAN_PATH>$ENV{NETCDF_FORTRAN_PATH}</NETCDF_FORTRAN_PATH>
  <PNETCDF_PATH>$ENV{PNETCDF_PATH}</PNETCDF_PATH>
  <SUPPORTS_CXX>TRUE</SUPPORTS_CXX>
</compiler>

<compiler MACH="summit" COMPILER="pgigpu">
  <CFLAGS>
    <append DEBUG="FALSE"> -O2 -Mvect=nosimd </append>
  </CFLAGS>
  <CPPDEFS>
    <append COMP_NAME="gptl"> -DHAVE_SLASHPROC </append>
  </CPPDEFS>
  <FFLAGS>
    <append DEBUG="FALSE"> -O2 -Mvect=nosimd -DSUMMITDEV_PGI </append>
  </FFLAGS>
  <LDFLAGS>
    <append> -Minline -ta=nvidia,cc70,fastmath,loadcache:L1,unroll,fma,managed,ptxinfo -Mcuda -Minfo=accel </append>
  </LDFLAGS>
  <SLIBS>
    <append> -L$ENV{PNETCDF_PATH}/lib -lpnetcdf -L$ENV{HDF5_PATH}/lib -lhdf5_hl -lhdf5 -L$ENV{NETCDF_C_PATH}/lib -lnetcdf -L$ENV{NETCDF_FORTRAN_PATH}/lib -lnetcdff -L$ENV{ESSL_PATH}/lib64 -lessl -L$ENV{OLCF_NETLIB_LAPACK_ROOT}/lib -llapack</append>
  </SLIBS>
  <CXX_LINKER>FORTRAN</CXX_LINKER>
  <CXX_LIBS>
    <base>-lstdc++</base>
  </CXX_LIBS>
  <KOKKOS_OPTIONS> --arch=Power9,Volta70 --with-cuda=$ENV{CUDA_DIR} --with-cuda-options=enable_lambda</KOKKOS_OPTIONS>
  <MPICC> mpicc </MPICC>
  <MPICXX> mpiCC </MPICXX>
  <MPIFC> mpif90 </MPIFC>
  <PIO_FILESYSTEM_HINTS>gpfs</PIO_FILESYSTEM_HINTS>
  <SCC> pgcc </SCC>
  <SFC> pgfortran </SFC>
  <NETCDF_C_PATH>$ENV{NETCDF_C_PATH}</NETCDF_C_PATH>
  <NETCDF_FORTRAN_PATH>$ENV{NETCDF_FORTRAN_PATH}</NETCDF_FORTRAN_PATH>
  <PNETCDF_PATH>$ENV{PNETCDF_PATH}</PNETCDF_PATH>
  <SUPPORTS_CXX>TRUE</SUPPORTS_CXX>
</compiler>

<compiler MACH="ascent" COMPILER="gnu">
  <CFLAGS>
    <append DEBUG="FALSE"> -O2  </append>
  </CFLAGS>
  <FFLAGS>
    <append DEBUG="FALSE"> -O2 </append>
  </FFLAGS>
  <CPPDEFS>
    <append COMP_NAME="gptl"> -DHAVE_SLASHPROC </append>
  </CPPDEFS>
  <SLIBS>
    <append MPILIB="mpi-serial">-L$ENV{NETCDF_C_PATH}/lib -lnetcdf -L$ENV{NETCDF_FORTRAN_PATH}/lib -lnetcdff -L$ENV{ESSL_PATH}/lib64 -lessl -L$ENV{OLCF_NETLIB_LAPACK_ROOT}/lib -llapack</append>
    <append MPILIB="!mpi-serial"> -L$ENV{PNETCDF_PATH}/lib -lpnetcdf -L$ENV{HDF5_PATH}/lib -lhdf5_hl -lhdf5 -L$ENV{NETCDF_C_PATH}/lib -lnetcdf -L$ENV{NETCDF_FORTRAN_PATH}/lib -lnetcdff -L$ENV{ESSL_PATH}/lib64 -lessl -L$ENV{OLCF_NETLIB_LAPACK_ROOT}/lib -llapack</append>
  </SLIBS>
  <CXX_LIBS>
    <base>-lstdc++</base>
  </CXX_LIBS>
  <MPICC> mpicc </MPICC>
  <MPICXX> mpiCC </MPICXX>
  <MPIFC> mpif90 </MPIFC>
  <SCC> gcc </SCC>
  <SCXX> g++ </SCXX>
  <SFC> gfortran </SFC>
  <PIO_FILESYSTEM_HINTS>gpfs</PIO_FILESYSTEM_HINTS>
  <NETCDF_C_PATH>$ENV{NETCDF_C_PATH}</NETCDF_C_PATH>
  <NETCDF_FORTRAN_PATH>$ENV{NETCDF_FORTRAN_PATH}</NETCDF_FORTRAN_PATH>
  <PNETCDF_PATH>$ENV{PNETCDF_PATH}</PNETCDF_PATH>
  <SUPPORTS_CXX>TRUE</SUPPORTS_CXX>
</compiler>

<compiler MACH="ascent" COMPILER="gnugpu">
  <CFLAGS>
    <append DEBUG="FALSE"> -O2  </append>
  </CFLAGS>
  <FFLAGS>
    <append DEBUG="FALSE"> -O2 </append>
  </FFLAGS>
  <CPPDEFS>
    <append COMP_NAME="gptl"> -DHAVE_SLASHPROC </append>
  </CPPDEFS>
  <SLIBS>
    <append MPILIB="mpi-serial">-L$ENV{NETCDF_C_PATH}/lib -lnetcdf -L$ENV{NETCDF_FORTRAN_PATH}/lib -lnetcdff -L$ENV{ESSL_PATH}/lib64 -lessl -L$ENV{OLCF_NETLIB_LAPACK_ROOT}/lib -llapack</append>
    <append MPILIB="!mpi-serial"> -L$ENV{PNETCDF_PATH}/lib -lpnetcdf -L$ENV{HDF5_PATH}/lib -lhdf5_hl -lhdf5 -L$ENV{NETCDF_C_PATH}/lib -lnetcdf -L$ENV{NETCDF_FORTRAN_PATH}/lib -lnetcdff -L$ENV{ESSL_PATH}/lib64 -lessl -L$ENV{OLCF_NETLIB_LAPACK_ROOT}/lib -llapack</append>
  </SLIBS>
  <CXX_LIBS>
    <base>-lstdc++</base>
  </CXX_LIBS>
  <MPICXX> mpiCC </MPICXX>
  <PIO_FILESYSTEM_HINTS>gpfs</PIO_FILESYSTEM_HINTS>
  <NETCDF_C_PATH>$ENV{NETCDF_C_PATH}</NETCDF_C_PATH>
  <NETCDF_FORTRAN_PATH>$ENV{NETCDF_FORTRAN_PATH}</NETCDF_FORTRAN_PATH>
  <PNETCDF_PATH>$ENV{PNETCDF_PATH}</PNETCDF_PATH>
  <SUPPORTS_CXX>TRUE</SUPPORTS_CXX>
  <CUDA_FLAGS>
    <append DEBUG="FALSE"> -O3 -arch sm_70 --use_fast_math </append>
    <append DEBUG="TRUE" > -O0 -g -arch sm_70 </append>
  </CUDA_FLAGS>
  <USE_CUDA>TRUE</USE_CUDA>
</compiler>

<compiler MACH="ascent" COMPILER="ibm">
  <CPPDEFS>
    <append> -DLINUX  </append>
    <append COMP_NAME="gptl"> -DHAVE_SLASHPROC </append>
  </CPPDEFS>
  <FFLAGS>
    <append> -qzerosize -qfree=f90 -qxlf2003=polymorphic</append>
    <append> -qspillsize=2500 -qextname=flush </append>
    <append COMP_NAME="cice" compile_threaded="TRUE"> -qsmp=omp:noopt </append>
  </FFLAGS>
  <LDFLAGS>
    <append>  -Wl,--relax -Wl,--allow-multiple-definition </append>
  </LDFLAGS>
  <SLIBS>
    <append MPILIB="mpi-serial">-lxlopt -lxl -lxlsmp -L$ENV{NETCDF_C_PATH}/lib -lnetcdf -L$ENV{NETCDF_FORTRAN_PATH}/lib -lnetcdff -L$ENV{ESSL_PATH}/lib64 -lessl -L$ENV{OLCF_NETLIB_LAPACK_ROOT}/lib -llapack</append>
    <append MPILIB="!mpi-serial"> -L$ENV{PNETCDF_PATH}/lib -lpnetcdf -L$ENV{HDF5_PATH}/lib -lhdf5_hl -lhdf5 -lxlopt -lxl -lxlsmp -L$ENV{NETCDF_C_PATH}/lib -lnetcdf -L$ENV{NETCDF_FORTRAN_PATH}/lib -lnetcdff -L$ENV{ESSL_PATH}/lib64 -lessl -L$ENV{OLCF_NETLIB_LAPACK_ROOT}/lib -llapack </append>
  </SLIBS>
  <CXX_LIBS>
    <base>-L/sw/ascent/gcc/8.1.1/lib64 -lstdc++ -L$ENV{OLCF_XLC_ROOT}/lib -libmc++</base>
  </CXX_LIBS>
  <MPICC> mpicc </MPICC>
  <MPICXX> mpiCC </MPICXX>
  <MPIFC> mpif90 </MPIFC>
  <PIO_FILESYSTEM_HINTS>gpfs</PIO_FILESYSTEM_HINTS>
  <SCC> xlc_r </SCC>
  <SFC> xlf90_r </SFC>
  <SCXX> xlc++_r </SCXX>
  <NETCDF_C_PATH>$ENV{NETCDF_C_PATH}</NETCDF_C_PATH>
  <NETCDF_FORTRAN_PATH>$ENV{NETCDF_FORTRAN_PATH}</NETCDF_FORTRAN_PATH>
  <PNETCDF_PATH>$ENV{PNETCDF_PATH}</PNETCDF_PATH>
  <SUPPORTS_CXX>TRUE</SUPPORTS_CXX>
  <KOKKOS_OPTIONS> --arch=Power9 --with-serial </KOKKOS_OPTIONS>
</compiler>

<compiler MACH="ascent" COMPILER="ibmgpu">
  <CFLAGS>
    <base> -g -qfullpath -qmaxmem=-1 -qphsinfo </base>
    <append DEBUG="FALSE"> -O3  </append>
    <append DEBUG="FALSE" compile_threaded="TRUE"> -qsmp=omp </append>
    <append DEBUG="TRUE" compile_threaded="TRUE"> -qsmp=omp:noopt </append>
  </CFLAGS>
  <CXXFLAGS>
    <base> -g -qfullpath -qmaxmem=-1 -qphsinfo </base>
    <append DEBUG="FALSE"> -O2  </append>
    <append DEBUG="FALSE" compile_threaded="TRUE"> -qsmp=omp </append>
    <append DEBUG="TRUE" compile_threaded="TRUE"> -qsmp=omp:noopt </append>
  </CXXFLAGS>
  <CPPDEFS>
    <append> -DFORTRAN_SAME -DCPRIBM</append>
    <append COMP_NAME="eam"> -DUSE_CBOOL </append>
    <append> -DLINUX  </append>
    <append COMP_NAME="gptl"> -DHAVE_SLASHPROC </append>
  </CPPDEFS>
  <CPRE>-WF,-D</CPRE>
  <FC_AUTO_R8>
    <base> -qrealsize=8 </base>
  </FC_AUTO_R8>
  <FFLAGS>
    <base> -g -qfullpath -qmaxmem=-1 -qphsinfo </base>
    <append DEBUG="FALSE"> -O2 -qstrict -Q </append>
    <append DEBUG="FALSE" compile_threaded="TRUE"> -qsmp=omp </append>
    <append DEBUG="TRUE" compile_threaded="TRUE"> -qsmp=omp:noopt </append>
    <append DEBUG="TRUE"> -qinitauto=7FF7FFFF -qflttrap=ov:zero:inv:en </append>
    <append> -qzerosize -qfree=f90 -qxlf2003=polymorphic</append>
    <append> -qspillsize=2500 -qextname=flush </append>
    <append COMP_NAME="cice" compile_threaded="TRUE"> -qsmp=omp:noopt </append>
  </FFLAGS>
  <FFLAGS_NOOPT>
    <base> -O0 </base>
  </FFLAGS_NOOPT>
  <FIXEDFLAGS>
    <base>  -qsuffix=f=f -qfixed=132 </base>
  </FIXEDFLAGS>
  <FREEFLAGS>
    <base> -qsuffix=f=f90:cpp=F90  </base>
  </FREEFLAGS>
  <HAS_F2008_CONTIGUOUS>TRUE</HAS_F2008_CONTIGUOUS>
  <LDFLAGS>
    <append> -Wl,--relax -Wl,--allow-multiple-definition </append>
    <append>-qsmp -qoffload -lcudart -L$ENV{CUDA_DIR}/lib64</append>
  </LDFLAGS>
  <SLIBS>
    <append MPILIB="mpi-serial">-lxlopt -lxl -lxlsmp -L$ENV{NETCDF_C_PATH}/lib -lnetcdf -L$ENV{NETCDF_FORTRAN_PATH}/lib -lnetcdff -L$ENV{ESSL_PATH}/lib64 -lessl -L$ENV{OLCF_NETLIB_LAPACK_ROOT}/lib -llapack</append>
    <append MPILIB="!mpi-serial"> -L$ENV{PNETCDF_PATH}/lib -lpnetcdf -L$ENV{HDF5_PATH}/lib -lhdf5_hl -lhdf5 -lxlopt -lxl -lxlsmp -L$ENV{NETCDF_C_PATH}/lib -lnetcdf -L$ENV{NETCDF_FORTRAN_PATH}/lib -lnetcdff -L$ENV{ESSL_PATH}/lib64 -lessl -L$ENV{OLCF_NETLIB_LAPACK_ROOT}/lib -llapack </append>
  </SLIBS>
  <CXX_LIBS>
    <base>-L/sw/ascent/gcc/8.1.1/lib64 -lstdc++ -L$ENV{OLCF_XLC_ROOT}/lib -libmc++</base>
  </CXX_LIBS>
  <MPICC> mpicc </MPICC>
  <MPICXX> mpiCC </MPICXX>
  <MPIFC> mpif90 </MPIFC>
  <PIO_FILESYSTEM_HINTS>gpfs</PIO_FILESYSTEM_HINTS>
  <SCC> xlc_r </SCC>
  <SFC> xlf90_r </SFC>
  <SCXX> xlc++_r </SCXX>
  <NETCDF_C_PATH>$ENV{NETCDF_C_PATH}</NETCDF_C_PATH>
  <NETCDF_FORTRAN_PATH>$ENV{NETCDF_FORTRAN_PATH}</NETCDF_FORTRAN_PATH>
  <PNETCDF_PATH>$ENV{PNETCDF_PATH}</PNETCDF_PATH>
  <SUPPORTS_CXX>TRUE</SUPPORTS_CXX>
  <KOKKOS_OPTIONS> --arch=Power9 --with-serial </KOKKOS_OPTIONS>
</compiler>

<compiler MACH="ascent" COMPILER="pgi">
  <CFLAGS>
    <append DEBUG="FALSE"> -O2 -Mvect=nosimd </append>
  </CFLAGS>
  <FFLAGS>
    <append DEBUG="FALSE"> -O2 -DSUMMITDEV_PGI </append>
  </FFLAGS>
  <CPPDEFS>
    <append COMP_NAME="gptl"> -DHAVE_SLASHPROC </append>
  </CPPDEFS>
  <SLIBS>
    <append> -L$ENV{PNETCDF_PATH}/lib -lpnetcdf -L$ENV{HDF5_PATH}/lib -lhdf5_hl -lhdf5 -L$ENV{NETCDF_C_PATH}/lib -lnetcdf -L$ENV{NETCDF_FORTRAN_PATH}/lib -lnetcdff -L$ENV{ESSL_PATH}/lib64 -lessl -L$ENV{OLCF_NETLIB_LAPACK_ROOT}/lib -llapack</append>
  </SLIBS>
  <CXX_LINKER>FORTRAN</CXX_LINKER>
  <CXX_LIBS>
    <base>-lstdc++</base>
  </CXX_LIBS>
  <MPICC> mpicc </MPICC>
  <MPICXX> mpiCC </MPICXX>
  <MPIFC> mpif90 </MPIFC>
  <PIO_FILESYSTEM_HINTS>gpfs</PIO_FILESYSTEM_HINTS>
  <SCC> pgcc </SCC>
  <SCXX> pgc++ </SCXX>
  <SFC> pgfortran </SFC>
  <NETCDF_C_PATH>$ENV{NETCDF_C_PATH}</NETCDF_C_PATH>
  <NETCDF_FORTRAN_PATH>$ENV{NETCDF_FORTRAN_PATH}</NETCDF_FORTRAN_PATH>
  <PNETCDF_PATH>$ENV{PNETCDF_PATH}</PNETCDF_PATH>
  <SUPPORTS_CXX>TRUE</SUPPORTS_CXX>
</compiler>

<compiler MACH="ascent" COMPILER="pgigpu">
  <CFLAGS>
    <append DEBUG="FALSE"> -O2 -Mvect=nosimd </append>
  </CFLAGS>
  <CPPDEFS>
    <append COMP_NAME="gptl"> -DHAVE_SLASHPROC </append>
  </CPPDEFS>
  <FFLAGS>
    <append DEBUG="FALSE"> -O2 -Mvect=nosimd -DSUMMITDEV_PGI </append>
  </FFLAGS>
  <LDFLAGS>
    <append> -Minline -ta=nvidia,cc70,fastmath,loadcache:L1,unroll,fma,managed,ptxinfo -Mcuda -Minfo=accel </append>
  </LDFLAGS>
  <SLIBS>
    <append> -L$ENV{PNETCDF_PATH}/lib -lpnetcdf -L$ENV{HDF5_PATH}/lib -lhdf5_hl -lhdf5 -L$ENV{NETCDF_C_PATH}/lib -lnetcdf -L$ENV{NETCDF_FORTRAN_PATH}/lib -lnetcdff -L$ENV{ESSL_PATH}/lib64 -lessl -L$ENV{OLCF_NETLIB_LAPACK_ROOT}/lib -llapack</append>
  </SLIBS>
  <CXX_LINKER>FORTRAN</CXX_LINKER>
  <CXX_LIBS>
    <base>-lstdc++</base>
  </CXX_LIBS>
  <KOKKOS_OPTIONS> --arch=Power9,Volta70 --with-cuda=$ENV{CUDA_DIR} --with-cuda-options=enable_lambda</KOKKOS_OPTIONS>
  <MPICC> mpicc </MPICC>
  <MPICXX> mpiCC </MPICXX>
  <MPIFC> mpif90 </MPIFC>
  <PIO_FILESYSTEM_HINTS>gpfs</PIO_FILESYSTEM_HINTS>
  <SCC> pgcc </SCC>
  <SFC> pgfortran </SFC>
  <NETCDF_C_PATH>$ENV{NETCDF_C_PATH}</NETCDF_C_PATH>
  <NETCDF_FORTRAN_PATH>$ENV{NETCDF_FORTRAN_PATH}</NETCDF_FORTRAN_PATH>
  <PNETCDF_PATH>$ENV{PNETCDF_PATH}</PNETCDF_PATH>
  <SUPPORTS_CXX>TRUE</SUPPORTS_CXX>
</compiler>

<compiler MACH="syrah" COMPILER="intel">
  <CFLAGS>
    <append DEBUG="FALSE"> -O2 </append>
  </CFLAGS>
  <CPPDEFS>
    <append> -DNO_SHR_VMATH -DCNL </append>
  </CPPDEFS>
  <FFLAGS>
    <append DEBUG="FALSE"> -O2 </append>
    <append DEBUG="TRUE"> -g -traceback  -O0 -fpe0 -check  all -check noarg_temp_created -ftrapuv </append>
  </FFLAGS>
  <SLIBS>
    <append> -llapack -lblas</append>
  </SLIBS>
  <MPI_LIB_NAME> mpich</MPI_LIB_NAME>
  <MPI_PATH>/usr/tce/packages/mvapich2/mvapich2-2.2-intel-18.0.1/</MPI_PATH>
  <NETCDF_PATH>/usr/tce/packages/netcdf-fortran/netcdf-fortran-4.4.4-intel-18.0.1/</NETCDF_PATH>
  <SLIBS>
    <append>$SHELL{/usr/tce/packages/netcdf-fortran/netcdf-fortran-4.4.4-intel-18.0.1/bin/nf-config --flibs}</append>
  </SLIBS>
</compiler>

<compiler MACH="quartz" COMPILER="intel">
  <CFLAGS>
    <append DEBUG="FALSE"> -O2 </append>
  </CFLAGS>
  <CPPDEFS>
    <append> -DNO_SHR_VMATH -DCNL </append>
  </CPPDEFS>
  <FFLAGS>
    <append DEBUG="FALSE"> -O2 </append>
    <append DEBUG="TRUE"> -g -traceback  -O0 -fpe0 -check  all -check noarg_temp_created -ftrapuv </append>
  </FFLAGS>
  <SLIBS>
    <append> -llapack -lblas</append>
  </SLIBS>
  <MPI_LIB_NAME> mpich</MPI_LIB_NAME>
  <MPI_PATH>/usr/tce/packages/mvapich2/mvapich2-2.2-intel-18.0.1/</MPI_PATH>
  <NETCDF_PATH>/usr/tce/packages/netcdf-fortran/netcdf-fortran-4.4.4-intel-18.0.1/</NETCDF_PATH>
  <SLIBS>
    <append>$SHELL{/usr/tce/packages/netcdf-fortran/netcdf-fortran-4.4.4-intel-18.0.1/bin/nf-config --flibs}</append>
  </SLIBS>
</compiler>

<compiler MACH="theta" COMPILER="gnu">
  <CFLAGS>
    <append DEBUG="FALSE"> -O2  </append>
    <append DEBUG="TRUE"> -O0 </append>
  </CFLAGS>
  <FFLAGS>
    <append DEBUG="FALSE"> -O2  </append>
    <append DEBUG="TRUE"> -O0 </append>
  </FFLAGS>
  <SLIBS>
    <append>$SHELL{nf-config --flibs}</append>
  </SLIBS>
  <CXX_LIBS>
    <base>-lstdc++</base>
  </CXX_LIBS>
</compiler>

<compiler MACH="theta" COMPILER="intel">
  <CONFIG_ARGS>
    <base> --host=cray </base>
  </CONFIG_ARGS>
  <CPPDEFS>
    <append> -DARCH_MIC_KNL </append>
  </CPPDEFS>
  <FFLAGS>
    <base>-convert big_endian -assume byterecl -ftz -traceback -assume realloc_lhs -fp-model consistent -fimf-use-svml=true</base>
    <append DEBUG="FALSE"> -O2 -debug minimal -qno-opt-dynamic-align -fp-speculation=off</append>
    <append> -DHAVE_ERF_INTRINSICS </append>
  </FFLAGS>
  <SCC> icc </SCC>
  <SCXX> icpc </SCXX>
  <SFC> ifort </SFC>
  <SLIBS>
    <append> -L$ENV{NETCDF_DIR}/lib -lnetcdff -L$ENV{NETCDF_DIR}/lib -lnetcdf -Wl,-rpath -Wl,$ENV{NETCDF_DIR}/lib </append>
    <append> -mkl -lpthread </append>
  </SLIBS>
</compiler>

<compiler MACH="tulip" COMPILER="gnu">
  <CPPDEFS>
    <append COMP_NAME="gptl"> -DHAVE_SLASHPROC </append>
  </CPPDEFS>
  <CXX_LIBS>
    <base>-lstdc++</base>
  </CXX_LIBS>
  <SLIBS>
    <append> $SHELL{$ENV{NETCDF_PATH}/bin/nf-config --flibs} $SHELL{$ENV{NETCDF_PATH}/bin/nc-config --libs} -llapack -lblas</append>
  </SLIBS>
  <NETCDF_PATH>$ENV{NETCDF_PATH}</NETCDF_PATH>
  <PNETCDF_PATH>$ENV{PNETCDF_PATH}</PNETCDF_PATH>
</compiler>

<compiler MACH="theta" COMPILER="cray">
  <CFLAGS>
    <append DEBUG="FALSE"> -O1 </append>
  </CFLAGS>
  <FFLAGS>
    <append DEBUG="FALSE"> -O1 </append>
    <append COMP_NAME="eam">-vector0</append>
  </FFLAGS>
  <CXX_LINKER>CXX</CXX_LINKER>
  <KOKKOS_OPTIONS> --gcc-toolchain=/opt/gcc/9.3.0/snos --with-serial </KOKKOS_OPTIONS>
  <CXXFLAGS>
    <base> -std=c++14 </base>
    <append compile_threaded="TRUE"> -fopenmp </append>
    <append DEBUG="TRUE"> -g -Wall </append>
    <append DEBUG="FALSE"> -O1 </append>
  </CXXFLAGS>
</compiler>

<!-- CRL  Add new compiler "oneapi-ifort" for "jlse" machine configuration -->
<compiler COMPILER="oneapi-ifort">
  <FFLAGS>
    <base>-convert big_endian -assume byterecl -traceback -assume realloc_lhs -fp-model consistent</base>
    <append compile_threaded="TRUE"> -qopenmp </append>
    <append DEBUG="FALSE"> -O2 </append>
    <append DEBUG="TRUE"> -O0 -g -check uninit -check bounds -check pointers -fpe0 -check noarg_temp_created </append>
  </FFLAGS>
  <CFLAGS>
    <base> -fp-model precise -std=gnu99 -traceback </base>
    <append compile_threaded="TRUE"> -qopenmp </append>
    <append DEBUG="FALSE"> -O2 </append>
    <append DEBUG="TRUE"> -O0 -g </append>
  </CFLAGS>
  <CXXFLAGS>
    <base> -std=c++14 -fp-model precise -traceback </base>
    <append compile_threaded="TRUE"> -qopenmp </append>
    <append DEBUG="FALSE"> -O2 </append>
    <append DEBUG="TRUE"> -O0 -g </append>
  </CXXFLAGS>
  <SUPPORTS_CXX>TRUE</SUPPORTS_CXX>
  <CXX_LINKER>FORTRAN</CXX_LINKER>
  <CXX_LDFLAGS>
    <base> -cxxlib </base>
  </CXX_LDFLAGS>
  <CPPDEFS>
    <append> -DFORTRANUNDERSCORE -DNO_R16 -DCPRINTEL -DHAVE_SLASHPROC </append>
  </CPPDEFS>
  <FC_AUTO_R8>
    <base> -r8 </base>
  </FC_AUTO_R8>
  <FFLAGS_NOOPT>
    <base> -O0 </base>
  </FFLAGS_NOOPT>
  <FIXEDFLAGS>
    <base> -fixed -132 </base>
  </FIXEDFLAGS>
  <FREEFLAGS>
    <base> -free </base>
  </FREEFLAGS>
  <HAS_F2008_CONTIGUOUS>TRUE</HAS_F2008_CONTIGUOUS>
  <MPIFC>mpif90</MPIFC>
  <MPICC>mpicc</MPICC>
  <MPICXX>mpicxx</MPICXX>
  <SCC>icc</SCC>
  <SCXX>icpc</SCXX>
  <SFC>ifort</SFC>
  <LDFLAGS>
    <append compile_threaded="TRUE"> -qopenmp </append>
  </LDFLAGS>
  <SLIBS>
    <append>$SHELL{$ENV{NETCDF_PATH}/bin/nf-config --flibs} -Wl,-rpath -Wl,$ENV{NETCDF_PATH}/lib -mkl</append>
    <append>$SHELL{$ENV{NETCDF_PATH}/bin/nc-config --libs}</append>
  </SLIBS>
  <NETCDF_PATH>$ENV{NETCDF_PATH}</NETCDF_PATH>
  <PNETCDF_PATH>$ENV{PNETCDF_PATH}</PNETCDF_PATH>
</compiler>
<!-- CRL  End of "oneapi-ifort" compiler -->

<!-- CRL  Add new compiler "oneapi-ifx" for "jlse" machine configuration -->
<compiler COMPILER="oneapi-ifx">
  <FFLAGS>
    <base> -traceback -convert big_endian -assume byterecl -assume realloc_lhs -fp-model precise</base>
    <append compile_threaded="TRUE"> -qopenmp </append>
    <append DEBUG="FALSE"> -O2 </append>
    <append DEBUG="TRUE"> -O0 -g -check uninit -check bounds -check pointers -fpe0 -check noarg_temp_created </append>
  </FFLAGS>
  <CFLAGS>
    <base> -traceback -fp-model precise -std=gnu99 </base>
    <append compile_threaded="TRUE"> -qopenmp </append>
    <append DEBUG="FALSE"> -O2 </append>
    <append DEBUG="TRUE"> -O0 -g </append>
  </CFLAGS>
  <CXXFLAGS>
    <base> -traceback -std=c++17 -fp-model precise </base>
    <append compile_threaded="TRUE"> -qopenmp </append>
    <append DEBUG="FALSE"> -O2 </append>
    <append DEBUG="TRUE"> -O0 -g </append>
  </CXXFLAGS>
  <SUPPORTS_CXX>TRUE</SUPPORTS_CXX>
  <CXX_LINKER>FORTRAN</CXX_LINKER>
  <CXX_LDFLAGS>
    <base> -cxxlib </base>
  </CXX_LDFLAGS>
  <CPPDEFS>
    <append> -DFORTRANUNDERSCORE -DNO_R16 -DCPRINTEL -DHAVE_SLASHPROC </append>
  </CPPDEFS>
  <FC_AUTO_R8>
    <base> -r8 </base>
  </FC_AUTO_R8>
  <FFLAGS_NOOPT>
    <base> -O0 </base>
  </FFLAGS_NOOPT>
  <FIXEDFLAGS>
    <base> -fixed -132 </base>
  </FIXEDFLAGS>
  <FREEFLAGS>
    <base> -free </base>
  </FREEFLAGS>
  <HAS_F2008_CONTIGUOUS>TRUE</HAS_F2008_CONTIGUOUS>
  <!-- CRL begin modifications to use OneAPI compilers -->
  <MPIFC>mpiifx</MPIFC>
  <MPICC>mpiicx</MPICC>
  <MPICXX>mpiicpx</MPICXX>
  <SCC>icx</SCC>
  <SCXX>icpx</SCXX>
  <SFC>ifx</SFC>
  <!-- CRL end modifications to use OneAPI compilers -->
  <LDFLAGS>
    <append compile_threaded="TRUE"> -qopenmp </append>
  </LDFLAGS>
  <SLIBS>
    <append>$SHELL{$ENV{NETCDF_PATH}/bin/nf-config --flibs} -Wl,-rpath -Wl,$ENV{NETCDF_PATH}/lib -qmkl</append>
    <append>$SHELL{$ENV{NETCDF_PATH}/bin/nc-config --libs}</append>
    <append> -fiopenmp -fopenmp-targets=spir64 </append>
  </SLIBS>
  <NETCDF_PATH>$ENV{NETCDF_PATH}</NETCDF_PATH>
  <PNETCDF_PATH>$ENV{PNETCDF_PATH}</PNETCDF_PATH>
</compiler>
<!-- CRL  End of "oneapi-ifx" compiler -->

<compiler MACH="jlse" COMPILER="gnu">
  <CPPDEFS>
    <append> -DHAVE_SLASHPROC </append>
  </CPPDEFS>
  <CFLAGS>
    <append DEBUG="FALSE"> -O2  </append>
  </CFLAGS>
  <FFLAGS>
    <append DEBUG="FALSE"> -O2  </append>
  </FFLAGS>
  <SLIBS>
    <append>$SHELL{$ENV{NETCDF_PATH}/bin/nf-config --flibs} -Wl,-rpath -Wl,$ENV{NETCDF_PATH}/lib</append>
    <append>$SHELL{$ENV{NETCDF_PATH}/bin/nc-config --libs}</append>
    <append>-L/home/azamat/soft/libs -llapack -lblas</append>
  </SLIBS>
  <NETCDF_PATH>$ENV{NETCDF_PATH}</NETCDF_PATH>
  <PNETCDF_PATH>$ENV{PNETCDF_PATH}</PNETCDF_PATH>
</compiler>

<compiler MACH="grizzly" COMPILER="gnu">
  <PIO_FILESYSTEM_HINTS>lustre</PIO_FILESYSTEM_HINTS>
  <MPICC>mpicc</MPICC>
  <MPIFC>mpif90</MPIFC>
  <MPICXX>mpic++</MPICXX>
  <SFC>gfortran</SFC>
  <SCC>gcc</SCC>
  <SCXX>g++</SCXX>
  <SLIBS>
    <append>$SHELL{nc-config --libs} </append>
    <append>$SHELL{nf-config --flibs} -lnetcdff -llapack -lblas </append>
    <append>$ENV{MKLROOT}/lib/intel64/libmkl_scalapack_lp64.a -Wl,--start-group $ENV{MKLROOT}/lib/intel64/libmkl_intel_lp64.a $ENV{MKLROOT}/lib/intel64/libmkl_core.a $ENV{MKLROOT}/lib/intel64/libmkl_sequential.a -Wl,--end-group $ENV{MKLROOT}/lib/intel64/libmkl_blacs_intelmpi_lp64.a -lpthread -lm -lz </append>
  </SLIBS>
  <CXX_LIBS>
    <base> -lstdc++</base>
  </CXX_LIBS>
  <NETCDF_C_PATH>$ENV{NETCDF_PATH}</NETCDF_C_PATH>
  <NETCDF_FORTRAN_PATH>$ENV{NETCDF_PATH}</NETCDF_FORTRAN_PATH>
  <PNETCDF_PATH>$ENV{PNETCDF_PATH}</PNETCDF_PATH>
</compiler>

<compiler MACH="grizzly" COMPILER="intel">
  <PIO_FILESYSTEM_HINTS>lustre</PIO_FILESYSTEM_HINTS>
  <MPICC  MPILIB="impi">mpiicc</MPICC>
  <MPICXX MPILIB="impi">mpiicpc</MPICXX>
  <MPIFC  MPILIB="impi">mpiifort</MPIFC>
  <MPICC  MPILIB="!impi">mpicc</MPICC>
  <MPICXX MPILIB="!impi">mpic++</MPICXX>
  <MPIFC  MPILIB="!impi">mpif90</MPIFC>
  <SFC>ifort</SFC>
  <SCC>icc</SCC>
  <SCXX>icpc</SCXX>
  <SLIBS>
    <append>$SHELL{$ENV{NETCDF_ROOT}/bin/nc-config --libs}</append>
    <append>$SHELL{$ENV{NETCDF_ROOT}/bin/nf-config --flibs} -lnetcdff -llapack -lblas</append>
    <append>-mkl -lpthread</append>
  </SLIBS>
  <CXX_LIBS>
    <base>-lstdc++</base>
  </CXX_LIBS>
  <NETCDF_C_PATH>$ENV{NETCDF_ROOT}</NETCDF_C_PATH>
  <NETCDF_FORTRAN_PATH>$ENV{NETCDF_ROOT}</NETCDF_FORTRAN_PATH>
  <PNETCDF_PATH>$ENV{PNETCDF_ROOT}</PNETCDF_PATH>
</compiler>

<compiler MACH="badger" COMPILER="gnu">
  <PIO_FILESYSTEM_HINTS>lustre</PIO_FILESYSTEM_HINTS>
  <MPICC>mpicc</MPICC>
  <MPIFC>mpif90</MPIFC>
  <MPICXX>mpic++</MPICXX>
  <SFC>gfortran</SFC>
  <SCC>gcc</SCC>
  <SCXX>g++</SCXX>
  <SLIBS>
    <append>$SHELL{nc-config --libs} </append>
    <append>$SHELL{nf-config --flibs} -lnetcdff -llapack -lblas </append>
    <append>$ENV{MKLROOT}/lib/intel64/libmkl_scalapack_lp64.a -Wl,--start-group $ENV{MKLROOT}/lib/intel64/libmkl_intel_lp64.a $ENV{MKLROOT}/lib/intel64/libmkl_core.a $ENV{MKLROOT}/lib/intel64/libmkl_sequential.a -Wl,--end-group $ENV{MKLROOT}/lib/intel64/libmkl_blacs_intelmpi_lp64.a -lpthread -lm -lz </append>
  </SLIBS>
  <CXX_LIBS>
    <base> -lstdc++ </base>
  </CXX_LIBS>
  <NETCDF_C_PATH>$ENV{NETCDF_PATH}</NETCDF_C_PATH>
  <NETCDF_FORTRAN_PATH>$ENV{NETCDF_PATH}</NETCDF_FORTRAN_PATH>
  <PNETCDF_PATH>$ENV{PNETCDF_PATH}</PNETCDF_PATH>
</compiler>

<compiler MACH="badger" COMPILER="intel">
  <PIO_FILESYSTEM_HINTS>lustre</PIO_FILESYSTEM_HINTS>
  <MPICC  MPILIB="impi">mpiicc</MPICC>
  <MPICXX MPILIB="impi">mpiicpc</MPICXX>
  <MPIFC  MPILIB="impi">mpiifort</MPIFC>
  <MPICC  MPILIB="!impi">mpicc</MPICC>
  <MPICXX MPILIB="!impi">mpic++</MPICXX>
  <MPIFC  MPILIB="!impi">mpif90</MPIFC>
  <SFC>ifort</SFC>
  <SCC>icc</SCC>
  <SCXX>icpc</SCXX>
  <SLIBS>
    <append>$SHELL{$ENV{NETCDF_ROOT}/bin/nc-config --libs}</append>
    <append>$SHELL{$ENV{NETCDF_ROOT}/bin/nf-config --flibs} -lnetcdff -llapack -lblas</append>
    <append>-mkl -lpthread</append>
  </SLIBS>
  <CXX_LIBS>
    <base>-lstdc++</base>
  </CXX_LIBS>
  <NETCDF_C_PATH>$ENV{NETCDF_ROOT}</NETCDF_C_PATH>
  <NETCDF_FORTRAN_PATH>$ENV{NETCDF_ROOT}</NETCDF_FORTRAN_PATH>
  <PNETCDF_PATH>$ENV{PNETCDF_ROOT}</PNETCDF_PATH>
</compiler>

<compiler MACH="gcp" COMPILER="gnu">
  <SUPPORTS_CXX>TRUE</SUPPORTS_CXX>
  <CPPDEFS>
     <append COMP_NAME="gptl"> -DHAVE_VPRINTF -DHAVE_GETTIMEOFDAY -DHAVE_BACKTRACE -DHAVE_SLASHPROC</append>
  </CPPDEFS>
  <CXX_LIBS>
    <base>-lstdc++</base>
  </CXX_LIBS>
  <FFLAGS>
    <append DEBUG="FALSE">-fno-unsafe-math-optimizations</append>
    <append DEBUG="TRUE"> -g -fbacktrace -fbounds-check -ffpe-trap=invalid,zero,overflow</append>
  </FFLAGS>

  <SLIBS>
    <append> -L$ENV{HDF5_PATH}/lib -lhdf5_fortran -lhdf5 -lhdf5_hl -lhdf5hl_fortran </append>
    <append> -L$ENV{NETCDF_C_PATH}/lib -lnetcdf -L$ENV{NETCDF_FORTRAN_PATH}/lib -lnetcdff</append>
    <append> -L$ENV{CURL_PATH}/lib -lcurl -lblas -llapack</append>
    <append> -L$ENV{LAPACK_PATH}/lib64 -lblas -llapack</append>
    <append> -L$ENV{PNETCDF_PATH}/lib -lpnetcdf</append>
  </SLIBS>
  <HDF5_PATH>$ENV{HDF5_PATH}</HDF5_PATH>
  <NETCDF_C_PATH>$ENV{NETCDF_C_PATH}</NETCDF_C_PATH>
  <NETCDF_FORTRAN_PATH>$ENV{NETCDF_FORTRAN_PATH}</NETCDF_FORTRAN_PATH>
  <PNETCDF_PATH>$ENV{PNETCDF_PATH}</PNETCDF_PATH>
</compiler>

<compiler MACH="userdefined">
  <CONFIG_ARGS>
    <base/>
  </CONFIG_ARGS>
  <CPPDEFS>
    <append/>
  </CPPDEFS>
  <ESMF_LIBDIR/>
  <MPI_LIB_NAME/>
  <MPI_PATH/>
  <NETCDF_PATH> USERDEFINED_MUST_EDIT_THIS</NETCDF_PATH>
  <PNETCDF_PATH/>
  <SLIBS>
    <append># USERDEFINED $SHELL{$NETCDF_PATH/bin/nf-config --flibs}</append>
  </SLIBS>
</compiler>

</config_compilers>

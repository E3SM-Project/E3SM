

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Colormaps &mdash; E3SM Diags  documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="How to Add New Diagnostics Runs" href="add-new-diagnostics.html" />
    <link rel="prev" title="Available Parameters" href="available-parameters.html" />
    <link href="_static/style.css" rel="stylesheet" type="text/css">

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home" alt="Documentation Home"> E3SM Diags
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="index.html">E3SM Diagnostics Package v2</a></li>
<li class="toctree-l1"><a class="reference internal" href="input-data-requirement.html">Input Data Requirement</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickguides/index.html">Quick Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="config-run.html">Configuration and Running</a></li>
<li class="toctree-l1"><a class="reference internal" href="defining-parameters.html">Defining Parameters</a></li>
<li class="toctree-l1"><a class="reference internal" href="available-parameters.html">Available Parameters</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Colormaps</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#default">Default</a></li>
<li class="toctree-l2"><a class="reference internal" href="#precipitation">Precipitation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#wind">Wind</a></li>
<li class="toctree-l2"><a class="reference internal" href="#customizing">Customizing</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="add-new-diagnostics.html">How to Add New Diagnostics Runs</a></li>
<li class="toctree-l1"><a class="reference internal" href="dev_guide/index.html">Developer Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing to E3SM Diags</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">E3SM Diags</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Colormaps</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/colormaps.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="colormaps">
<h1>Colormaps<a class="headerlink" href="#colormaps" title="Permalink to this headline">¶</a></h1>
<p>A few words about colormaps. We tried to select default colormaps that were both
aesthetically pleasing and would help better visualize the data. In the process of identifying
suitable colormaps, we quickly realized that no single colormap would do the job.
So we settled on a few different combinations depending on variables being plotted.</p>
<div class="section" id="default">
<h2>Default<a class="headerlink" href="#default" title="Permalink to this headline">¶</a></h2>
<p>The default colormaps consist of the perceptually uniform rainbow from the
<a class="reference external" href="https://github.com/bokeh/colorcet">colorcet</a> collection for the top
two panels. For the difference panel, a custom diverging colormap was built that
smoothly transitions from the blue to the red ends of the rainbow. The center of the
colormap is white to avoid distracting the eye with from small variations around zero.</p>
<div class="figure align-center" id="id3">
<a class="reference external image-reference" href="_static/colormaps/ceres_ebaf_toa_v4.0-NETCF-ANN-global.png"><img alt="_images/ceres_ebaf_toa_v4.0-NETCF-ANN-global.png" src="_images/ceres_ebaf_toa_v4.0-NETCF-ANN-global.png" style="width: 70%;" /></a>
<p class="caption"><span class="caption-text">Illustration of default colormaps for annual net TOA cloud forcing.</span><a class="headerlink" href="#id3" title="Permalink to this image">¶</a></p>
</div>
</div>
<div class="section" id="precipitation">
<h2>Precipitation<a class="headerlink" href="#precipitation" title="Permalink to this headline">¶</a></h2>
<p>For precipitation, we selected alternate colormaps. Precipitation in the top two
panels is displayed using the
<a class="reference external" href="https://www.ncl.ucar.edu/Document/Graphics/color_table_gallery.shtml">NCL</a>
WhiteBlueGreenYellowRed colormap as suggested
by Walter Hannah. The difference in the bottom panel is plotted with the Matplotlib
diverging colormap BrBG to highlight excessively dry (brown) and wet areas (green).</p>
<div class="figure align-center" id="id4">
<a class="reference external image-reference" href="_static/colormaps/GPCP_v2.2-PRECT-ANN-global.png"><img alt="_images/GPCP_v2.2-PRECT-ANN-global.png" src="_images/GPCP_v2.2-PRECT-ANN-global.png" style="width: 70%;" /></a>
<p class="caption"><span class="caption-text">Default colormaps for precipitation.</span><a class="headerlink" href="#id4" title="Permalink to this image">¶</a></p>
</div>
</div>
<div class="section" id="wind">
<h2>Wind<a class="headerlink" href="#wind" title="Permalink to this headline">¶</a></h2>
<p>Wind (u, omega) is yet another special case. To clearly mark the difference between
easterly/westerly or up/down motions, we decided that a diverging colormap would be best.
We selected PiYG_r from Matplotlib for the wind field and paired it with a diverging
colormap from <a class="reference external" href="https://github.com/bokeh/colorcet">colorcet</a> (diverging_bwr).</p>
<div class="figure align-center" id="id5">
<a class="reference external image-reference" href="_static/colormaps/ERA-Interim-U-850-ANN-global.png"><img alt="_images/ERA-Interim-U-850-ANN-global.png" src="_images/ERA-Interim-U-850-ANN-global.png" style="width: 70%;" /></a>
<p class="caption"><span class="caption-text">Default colormaps for wind.</span><a class="headerlink" href="#id5" title="Permalink to this image">¶</a></p>
</div>
</div>
<div class="section" id="customizing">
<h2>Customizing<a class="headerlink" href="#customizing" title="Permalink to this headline">¶</a></h2>
<p>Because we realize that selecting a good colormap is rather subjective and there is
probably (?) no perfect solution, we also made it easy to customize colormap choices. Colormaps
for each panel can be specified using the following parameters
(see also <a class="reference internal" href="available-parameters.html"><span class="doc">defining parameters</span></a>):</p>
<ul class="simple">
<li><p><strong>test_colormap</strong> for the top panel.</p></li>
<li><p><strong>reference_colormap</strong> for the middle panel.</p></li>
<li><p><strong>diff_colormap</strong> for the bottom one.</p></li>
</ul>
<p>Colormaps can be specified by either using a standard Matplotlib map name
or an external rgb ascii file.
All colormaps from the <a class="reference external" href="https://github.com/bokeh/colorcet">colorcet</a> collection have been
imported as rgb files by Charles Doutriaux (available under <a class="reference external" href="https://github.com/E3SM-Project/e3sm_diags/tree/master/acme_diags/plot/colormaps">acme_diags/plot/colormaps</a>).</p>
<p>You can also import your very own colormap by creating and specifying the path to
an ascii rgb file containing a list of colors in RGB space. If you think you have something
that improves upon the current default, please send some samples to Jill
(zhang40 .at. llnl.gov) or Zeshawn (shaheen2 .at. llnl.gov) and we will consider them from inclusion in a future release.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="add-new-diagnostics.html" class="btn btn-neutral float-right" title="How to Add New Diagnostics Runs" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="available-parameters.html" class="btn btn-neutral float-left" title="Available Parameters" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, E3SM

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>
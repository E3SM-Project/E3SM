

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Quick guide for ANL ALCF Cooley using Singularity (v1) &mdash; E3SM Diags  documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Quick guide for LLNL AIMS4 or ACME1 (v1)" href="quick-guide-aims4.html" />
    <link rel="prev" title="Quick guide for NERSC Cori using Shifter (v1)" href="quick-guide-cori.html" />
    <link href="../../_static/style.css" rel="stylesheet" type="text/css">

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home" alt="Documentation Home"> E3SM Diags
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../index.html">E3SM Diagnostics Package v2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../input-data-requirement.html">Input Data Requirement</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Quick Guides</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../quick-guide-general.html">General quick guide for running e3sm_diags v2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../quick-guide-acme1.html">Acme1 quick guide for running e3sm_diags v2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../quick-guide-lcrc.html">LCRC quick guide for running e3sm_diags v2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../quick-guide-compy.html">Compy quick guide for running e3sm_diags v2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../quick-guide-cori.html">Cori quick guide for running e3sm_diags v2</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Old Quick Guides for v1</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="quick-guide-edison.html">Quick guide for NERSC Edison (v1)</a></li>
<li class="toctree-l3"><a class="reference internal" href="quick-guide-edison-shifter.html">Quick guide for NERSC Edison using Shifter (v1)</a></li>
<li class="toctree-l3"><a class="reference internal" href="quick-guide-compy.html">Quick guide for running in e3sm_unified environment for Compy and Others (v1)</a></li>
<li class="toctree-l3"><a class="reference internal" href="quick-guide-docker.html">Quick guide for using Docker (v1)</a></li>
<li class="toctree-l3"><a class="reference internal" href="quick-guide-cori.html">Quick guide for NERSC Cori using Shifter (v1)</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Quick guide for ANL ALCF Cooley using Singularity (v1)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#obtaining-the-container-image">Obtaining the container image</a></li>
<li class="toctree-l4"><a class="reference internal" href="#running-the-entire-annual-latitude-longitude-contour-set">Running the entire annual latitude-longitude contour set</a></li>
<li class="toctree-l4"><a class="reference internal" href="#running-all-of-the-diagnostics-sets">Running all of the diagnostics sets</a></li>
<li class="toctree-l4"><a class="reference internal" href="#advanced-running-custom-diagnostics">Advanced: Running custom diagnostics</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="quick-guide-aims4.html">Quick guide for LLNL AIMS4 or ACME1 (v1)</a></li>
<li class="toctree-l3"><a class="reference internal" href="quick-guide-rhea.html">Quick guide for OLCF Rhea (v1)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../config-run.html">Configuration and Running</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../defining-parameters.html">Defining Parameters</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../available-parameters.html">Available Parameters</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../colormaps.html">Colormaps</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../add-new-diagnostics.html">How to Add New Diagnostics Runs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dev_guide/index.html">Developer Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contributing.html">Contributing to E3SM Diags</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">E3SM Diags</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../index.html">Quick Guides</a> &raquo;</li>
        
          <li><a href="index.html">Old Quick Guides for v1</a> &raquo;</li>
        
      <li>Quick guide for ANL ALCF Cooley using Singularity (v1)</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/quickguides/old/quick-guide-cooley.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="quick-guide-for-anl-alcf-cooley-using-singularity-v1">
<h1>Quick guide for ANL ALCF Cooley using Singularity (v1)<a class="headerlink" href="#quick-guide-for-anl-alcf-cooley-using-singularity-v1" title="Permalink to this headline">¶</a></h1>
<div class="section" id="obtaining-the-container-image">
<h2>Obtaining the container image<a class="headerlink" href="#obtaining-the-container-image" title="Permalink to this headline">¶</a></h2>
<p>Singularity is the container runtime used at ALCF to run containers.
It’s an alternative to Docker, but supports Docker containers.</p>
<p>1. Set the <code class="docutils literal notranslate"><span class="pre">SINGULARITY_PULLFOLDER</span></code> environmental variable to <code class="docutils literal notranslate"><span class="pre">/lus/theta-fs0/projects/ccsm/acme/containers/</span></code>.
This is where the containers are stored.
If you’re using bash, run the following.</p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">export</span> <span class="n">SINGULARITY_PULLFOLDER</span><span class="o">=</span><span class="s2">&quot;/lus/theta-fs0/projects/ccsm/acme/containers/&quot;</span>
</pre></div>
</div>
</div></blockquote>
<p>2. Unlike Docker or Shifter (on NERSC), Singularity doesn’t store the containers is a central repository.
So we just the directory below to store all downloaded containers.</p>
<p>View the <code class="docutils literal notranslate"><span class="pre">e3sm_diags</span></code> images available on ALCF.</p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span>ls $SINGULARITY_PULLFOLDER | grep e3sm_diags
</pre></div>
</div>
</div></blockquote>
<p>If the version you want to use is already available, then please continue to step 3.
Otherwise, you’ll need to download the image you want, shown in step 2.</p>
<p>3. If the specific version you want or the <code class="docutils literal notranslate"><span class="pre">latest</span></code> image <strong>is not shown</strong>, download it.
You can view all of the images available on the
<a class="reference external" href="https://hub.docker.com/r/e3sm/e3sm_diags/tags/">e3sm_diags Docker Hub</a>.</p>
<p>Below, we are getting the image with the <code class="docutils literal notranslate"><span class="pre">latest</span></code> tag.
Images are stored in the <code class="docutils literal notranslate"><span class="pre">SINGULARITY_PULLFOLDER</span></code> directory.</p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">singularity</span> <span class="n">pull</span> <span class="n">docker</span><span class="p">:</span><span class="o">//</span><span class="n">e3sm</span><span class="o">/</span><span class="n">e3sm_diags</span><span class="p">:</span><span class="n">latest</span>
</pre></div>
</div>
</div></blockquote>
<ol class="arabic" start="4">
<li><p><code class="docutils literal notranslate"><span class="pre">wget</span></code> the following script.</p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">wget</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">raw</span><span class="o">.</span><span class="n">githubusercontent</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">E3SM</span><span class="o">-</span><span class="n">Project</span><span class="o">/</span><span class="n">e3sm_diags</span><span class="o">/</span><span class="n">master</span><span class="o">/</span><span class="n">acme_diags</span><span class="o">/</span><span class="n">container</span><span class="o">/</span><span class="n">e3sm_diags_container</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
</div></blockquote>
</li>
</ol>
</div>
<div class="section" id="running-the-entire-annual-latitude-longitude-contour-set">
<h2>Running the entire annual latitude-longitude contour set<a class="headerlink" href="#running-the-entire-annual-latitude-longitude-contour-set" title="Permalink to this headline">¶</a></h2>
<p>4. Copy and paste the below code into <code class="docutils literal notranslate"><span class="pre">myparams.py</span></code> using your favorite text editor.
Adjust any options as you like.</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">reference_data_path</span> <span class="o">=</span> <span class="s1">&#39;/lus/theta-fs0/projects/ClimateEnergy_3/e3sm_diags/obs_for_e3sm_diags/climatology/&#39;</span>
<span class="n">test_data_path</span> <span class="o">=</span> <span class="s1">&#39;/lus/theta-fs0/projects/ClimateEnergy_3/e3sm_diags/test_model_data_for_e3sm_diags/climatology/&#39;</span>

<span class="n">test_name</span> <span class="o">=</span> <span class="s1">&#39;20161118.beta0.FC5COSP.ne30_ne30.edison&#39;</span>

<span class="n">sets</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;lat_lon&quot;</span><span class="p">]</span>
<span class="n">seasons</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;ANN&quot;</span><span class="p">]</span>

<span class="c1"># &#39;mpl&#39; and &#39;vcs&#39; are for matplotlib or vcs plots respectively.</span>
<span class="n">backend</span> <span class="o">=</span> <span class="s1">&#39;mpl&#39;</span>

<span class="c1"># Name of folder where all results will be stored.</span>
<span class="n">results_dir</span> <span class="o">=</span> <span class="s1">&#39;lat_lon_demo&#39;</span>

<span class="c1"># Optional parameters to run in parallel.</span>
<span class="n">multiprocessing</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">num_workers</span> <span class="o">=</span>  <span class="mi">12</span>
</pre></div>
</div>
</div></blockquote>
<p>Singularity can be ran on the login nodes, but you should run
either in an interactive session on the compute nodes, or as a batch job.</p>
<div class="section" id="interactive-session-on-compute-nodes">
<h3>Interactive session on compute nodes<a class="headerlink" href="#interactive-session-on-compute-nodes" title="Permalink to this headline">¶</a></h3>
<p>First, request an interactive session with a single node (12 cores) for one hour
(running this example should take much less than this) on the <code class="docutils literal notranslate"><span class="pre">default</span></code> queue.
If obtaining a session takes too long, try to use the <code class="docutils literal notranslate"><span class="pre">debug</span></code> queue.
For more information,
<a class="reference external" href="https://www.alcf.anl.gov/user-guides/job-scheduling-policies-cooley">see here</a>.</p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">qsub</span> <span class="o">--</span><span class="n">interactive</span> <span class="o">--</span><span class="n">nodecount</span><span class="o">=</span><span class="mi">1</span> <span class="o">--</span><span class="n">queue</span><span class="o">=</span><span class="n">default</span> <span class="o">--</span><span class="n">time</span><span class="o">=</span><span class="mi">01</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span>
</pre></div>
</div>
</div></blockquote>
<p>Once the session is available, reset the environmental variable.
In bash, use the below.</p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">export</span> <span class="n">SINGULARITY_PULLFOLDER</span><span class="o">=</span><span class="s2">&quot;/lus/theta-fs0/projects/ccsm/acme/containers/&quot;</span>
</pre></div>
</div>
</div></blockquote>
<p>Then launch E3SM Diagnostics:</p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="n">e3sm_diags_container</span><span class="o">.</span><span class="n">py</span> <span class="o">--</span><span class="n">singularity</span> <span class="o">-</span><span class="n">p</span> <span class="n">myparams</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
</div></blockquote>
<p><strong>Tip:</strong> You can select the version of the container you want to run with the <code class="docutils literal notranslate"><span class="pre">--container_version</span></code> argument.
If this argument isn’t defined, it defaults to the <code class="docutils literal notranslate"><span class="pre">latest</span></code> container.</p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="n">e3sm_diags_container</span><span class="o">.</span><span class="n">py</span> <span class="o">--</span><span class="n">shifter</span> <span class="o">--</span><span class="n">container_version</span> <span class="n">v1</span><span class="o">.</span><span class="mf">6.0</span> <span class="o">-</span><span class="n">p</span> <span class="n">myparams</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
</div></blockquote>
<p>Use the command <code class="docutils literal notranslate"><span class="pre">exit</span></code> when the run is done.</p>
</div>
<div class="section" id="batch-job">
<h3>Batch job<a class="headerlink" href="#batch-job" title="Permalink to this headline">¶</a></h3>
<p>Alternatively, you can also create a script and submit it to the batch system.</p>
<p>First, create a temporary directory and make sure you download the script into it.
The reason we’re doing this first is because the compute nodes
don’t seem to not have Internet access.</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mkdir ~/e3sm_diags_output
wget -P ~/e3sm_diags_output https://raw.githubusercontent.com/E3SM-Project/e3sm_diags/master/acme_diags/container/e3sm_diags_container.py
</pre></div>
</div>
</div></blockquote>
<p>Also, make sure your <code class="docutils literal notranslate"><span class="pre">myparams.py</span></code> is also in the directory you’ve made.</p>
<p>Finally, copy and paste the code below into a file named <code class="docutils literal notranslate"><span class="pre">diags.sh</span></code>.
You might need to make it executable with <code class="docutils literal notranslate"><span class="pre">chmod</span> <span class="pre">u+x</span> <span class="pre">diags.sh</span></code>.</p>
<blockquote>
<div></div></blockquote>
<p>And then submit it</p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">qsub</span> <span class="n">diags</span><span class="o">.</span><span class="n">bash</span>
</pre></div>
</div>
</div></blockquote>
<p>View the status of your job with <code class="docutils literal notranslate"><span class="pre">qstat</span> <span class="pre">-u</span> <span class="pre">&lt;username&gt;</span></code>.</p>
</div>
<div class="section" id="back-to-running-the-latitude-longitude-contour-set">
<h3>Back to running the latitude-longitude contour set<a class="headerlink" href="#back-to-running-the-latitude-longitude-contour-set" title="Permalink to this headline">¶</a></h3>
<p>5. Once you ran the diagnostics in an interactive session or via a batch job,
open the following webpage to view the results.</p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">lat_lon_demo</span><span class="o">/</span><span class="n">viewer</span><span class="o">/</span><span class="n">index</span><span class="o">.</span><span class="n">html</span>
</pre></div>
</div>
</div></blockquote>
<p><strong>Tip:</strong> Once you’re on the webpage for a specific plot, click on the
‘Output Metadata’ drop down menu to view the metadata for the displayed plot.
Running that command allows the displayed plot to be recreated.
Changing any of the options will modify the just that resulting figure.</p>
</div>
</div>
<div class="section" id="running-all-of-the-diagnostics-sets">
<h2>Running all of the diagnostics sets<a class="headerlink" href="#running-all-of-the-diagnostics-sets" title="Permalink to this headline">¶</a></h2>
<p>Copy and paste the following into <code class="docutils literal notranslate"><span class="pre">all_sets.py</span></code> using your
favorite text editor:</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">reference_data_path</span> <span class="o">=</span> <span class="s1">&#39;/lus/theta-fs0/projects/ClimateEnergy_3/e3sm_diags/obs_for_e3sm_diags/climatology/&#39;</span>
<span class="n">test_data_path</span> <span class="o">=</span> <span class="s1">&#39;/lus/theta-fs0/projects/ClimateEnergy_3/e3sm_diags/test_model_data_for_e3sm_diags/climatology/&#39;</span>

<span class="n">test_name</span> <span class="o">=</span> <span class="s1">&#39;20161118.beta0.FC5COSP.ne30_ne30.edison&#39;</span>

<span class="c1"># Not defining a sets parameter runs all of the default sets:</span>
<span class="c1"># [&#39;zonal_mean_xy&#39;, &#39;zonal_mean_2d&#39;, &#39;lat_lon&#39;, &#39;polar&#39;, &#39;cosp_histogram&#39;]</span>
<span class="c1"># Not defining a seasons parameter runs all of the seasons:</span>
<span class="c1"># [&#39;ANN&#39;, &#39;DJF&#39;, &#39;MAM&#39;, &#39;JJA&#39;, &#39;SON&#39;]</span>

<span class="c1"># &#39;mpl&#39; and &#39;vcs&#39; are for matplotlib or vcs plots respectively.</span>
<span class="n">backend</span> <span class="o">=</span> <span class="s1">&#39;mpl&#39;</span>

<span class="c1"># Name of folder where all results will be stored.</span>
<span class="n">results_dir</span> <span class="o">=</span> <span class="s1">&#39;diag_demo&#39;</span>

<span class="c1"># Optional settings below:</span>
<span class="n">diff_title</span> <span class="o">=</span> <span class="s1">&#39;Model - Obs&#39;</span>

<span class="n">multiprocessing</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">num_workers</span> <span class="o">=</span>  <span class="mi">12</span>
</pre></div>
</div>
</div></blockquote>
<p>Compared to the previous short test above, note the following changes:</p>
<ul class="simple">
<li><p>Plots for all the available sets (‘zonal_mean_xy’, ‘zonal_mean_2d’,
‘lat_lon’, ‘polar’, ‘cosp_histogram’) are generated.</p></li>
<li><p>Plots for all of the seasons (‘ANN’, ‘DJF’, ‘MAM’, ‘JJA’, ‘SON’) are generated.</p></li>
</ul>
<ol class="arabic" start="6">
<li><p>Again, run the diagnostics with this new parameter file (<code class="docutils literal notranslate"><span class="pre">all_sets.py</span></code>), either
in an interactive session or via a batch job.</p></li>
<li><p>Open the following webpage to view the results.</p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">diags_demo</span><span class="o">/</span><span class="n">viewer</span><span class="o">/</span><span class="n">index</span><span class="o">.</span><span class="n">html</span>
</pre></div>
</div>
</div></blockquote>
</li>
</ol>
</div>
<div class="section" id="advanced-running-custom-diagnostics">
<h2>Advanced: Running custom diagnostics<a class="headerlink" href="#advanced-running-custom-diagnostics" title="Permalink to this headline">¶</a></h2>
<p>The following steps are for ‘advanced’ users, who want to run custom diagnostics.
So most users will not run the software like this.</p>
<p>By default, all of the E3SM diagnostics are ran for the sets that we defined above.
This takes some time, so instead we create our own diagnostics to be ran.</p>
<p>8. Copy and paste the code below in <code class="docutils literal notranslate"><span class="pre">mydiags.cfg</span></code>.
Check <a class="reference internal" href="../../available-parameters.html"><span class="doc">Available Parameters</span></a>
for all available parameters.</p>
<p>For more examples of these types of files, look
<a class="reference external" href="https://github.com/E3SM-Project/e3sm_diags/blob/master/acme_diags/driver/default_diags/lat_lon_model_vs_obs.cfg">here</a>
for the <code class="docutils literal notranslate"><span class="pre">cfg</span></code> file that was used to create all of the latitude-longitude sets.</p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="c1">#]</span>
<span class="n">sets</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;lat_lon&quot;</span><span class="p">]</span>
<span class="n">case_id</span> <span class="o">=</span> <span class="s2">&quot;GPCP_v2.2&quot;</span>
<span class="n">variables</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;PRECT&quot;</span><span class="p">]</span>
<span class="n">ref_name</span> <span class="o">=</span> <span class="s2">&quot;GPCP_v2.2&quot;</span>
<span class="n">reference_name</span> <span class="o">=</span> <span class="s2">&quot;GPCP (yrs1979-2014)&quot;</span>
<span class="n">seasons</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;ANN&quot;</span><span class="p">,</span> <span class="s2">&quot;DJF&quot;</span><span class="p">]</span>
<span class="n">regions</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;global&quot;</span><span class="p">]</span>
<span class="n">test_colormap</span> <span class="o">=</span> <span class="s2">&quot;WhiteBlueGreenYellowRed.rgb&quot;</span>
<span class="n">reference_colormap</span> <span class="o">=</span> <span class="s2">&quot;WhiteBlueGreenYellowRed.rgb&quot;</span>
<span class="n">diff_colormap</span> <span class="o">=</span> <span class="s2">&quot;BrBG&quot;</span>
<span class="n">contour_levels</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.5</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">16</span><span class="p">]</span>
<span class="n">diff_levels</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="o">-</span><span class="mi">4</span><span class="p">,</span> <span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>

<span class="p">[</span><span class="c1">#]</span>
<span class="n">sets</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;lat_lon&quot;</span><span class="p">]</span>
<span class="n">case_id</span> <span class="o">=</span> <span class="s2">&quot;SST_CL_HadISST&quot;</span>
<span class="n">variables</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;SST&quot;</span><span class="p">]</span>
<span class="n">ref_name</span> <span class="o">=</span> <span class="s2">&quot;HadISST_CL&quot;</span>
<span class="n">reference_name</span> <span class="o">=</span> <span class="s2">&quot;HadISST/OI.v2 (Climatology) 1982-2001&quot;</span>
<span class="n">seasons</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;ANN&quot;</span><span class="p">,</span> <span class="s2">&quot;MAM&quot;</span><span class="p">]</span>
<span class="n">contour_levels</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">28</span><span class="p">,</span> <span class="mi">29</span><span class="p">]</span>
<span class="n">diff_levels</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="o">-</span><span class="mi">4</span><span class="p">,</span> <span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.5</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
</pre></div>
</div>
</div></blockquote>
<ol class="arabic" start="9">
<li><p>Run E3SM diagnostics with the <code class="docutils literal notranslate"><span class="pre">-d</span></code> parameter.</p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="n">e3sm_diags_container</span><span class="o">.</span><span class="n">py</span> <span class="o">--</span><span class="n">singularity</span> <span class="o">-</span><span class="n">p</span> <span class="n">myparams</span><span class="o">.</span><span class="n">py</span> <span class="o">-</span><span class="n">d</span> <span class="n">mydiags</span><span class="o">.</span><span class="n">cfg</span>
</pre></div>
</div>
</div></blockquote>
</li>
</ol>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="quick-guide-aims4.html" class="btn btn-neutral float-right" title="Quick guide for LLNL AIMS4 or ACME1 (v1)" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="quick-guide-cori.html" class="btn btn-neutral float-left" title="Quick guide for NERSC Cori using Shifter (v1)" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, E3SM

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>